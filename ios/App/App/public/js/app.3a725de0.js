(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&m.push(s[o][0]),s[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==s[l]&&(i=!1)}i&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},s={app:0},n=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"06e7":function(t,e,a){"use strict";a("bb1b")},1:function(t,e){},"20c8":function(t,e,a){},"2f59":function(t,e,a){},3078:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("5530"),s=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("99af"),a("caad"),a("2532"),a("ebd2")),n=a.n(s),o=a("2b0e"),r=a("f0eb"),l=a("5f5b"),c=a("7bb1"),u=a("4c93"),d=a("e8c8"),m=a.n(d),p=a("b5a6"),f=a("5a17"),h=a("a65d"),v=a.n(h),_=a("e0ec"),g=a.n(_),b=a("d4ec"),C=a("bee2"),w=(a("d3b7"),a("bc3a")),y=a.n(w),x=a("8c4f"),k=(a("d9e2"),a("b64b"),a("25f0"),a("2f62")),O=a("0e44"),$=a("3452"),j=a.n($),P=function(t){return wo.post("/auth/login",t)},S=function(t){return wo.put("/user/recover/password/rut/".concat(t))},A=function(t){return wo.post("/user/recovery/password/id",t)},D=function(t){return wo.post("/auth/register",t)},N=function(t){return wo.post("/user/complete",t)},E=function(){return wo.get("/logout")},I=function(){return wo.get("/suspend/user")},q=function(t){return wo.post("/user/notification",t)},M=a("c7eb"),B=a("1da1"),T=function(){var t=Object(B["a"])(Object(M["a"])().mark((function t(e){var a;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e&&e.id){t.next=4;break}return console.error('El parámetro "id" es requerido'),t.abrupt("return",[]);case 4:return t.next=6,wo.get("/user/notification",{params:e});case 6:if(a=t.sent,!a||200!==a.status){t.next=10;break}return console.log("Notificaciones obtenidas correctamente:",a.data),t.abrupt("return",a.data);case 10:return console.error("Error al obtener notificaciones, código:",a.status),t.abrupt("return",[]);case 14:return t.prev=14,t.t0=t["catch"](0),console.error("Error en la solicitud de notificaciones:",t.t0),t.abrupt("return",[]);case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}(),L=function(){var t=Object(B["a"])(Object(M["a"])().mark((function t(e){var a;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,wo.post("/user/read/notification",e);case 4:if(a=t.sent,200!==a.status){t.next=8;break}return console.log("Notificación marcada como leída:",a.data),t.abrupt("return",a.data);case 8:return console.error("Error al marcar la notificación como leída, código:",a.status),t.abrupt("return",null);case 12:return t.prev=12,t.t0=t["catch"](1),console.error("Error al realizar la solicitud para marcar la notificación como leída:",t.t0),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e){return t.apply(this,arguments)}}();o["default"].use(k["a"]);var F="%)OcJo^l4s$3s&l+EVhyxP)x7x0+2wCw",V=new k["a"].Store({state:{layout:"auth-layout",title:"",status:"",token:localStorage.getItem("token")||"",user:{},session:{rut:null,password:null,rememberMe:!1},fontSize:1,notifications:[],showCovidAlert:!0},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e){t.status="success",t.token=e.token||1,t.user=e.user},auth_complete:function(t,e){t.status="complete",t.user=e.user},logout:function(t){t.token="",t.user={}},auth_error:function(t){t.status="error"},set_layout:function(t,e){t.layout=e},set_title:function(t,e){t.title=e},set_user:function(t,e){t.user=e},set_session:function(t,e){t.session=e},set_session_rut:function(t,e){t.session.rut=e},set_session_password:function(t,e){t.session.password=e},set_session_rememberMe:function(t,e){t.session.rememberMe=e},font_size:function(t,e){e&&(t.fontSize+=e)},set_notifications:function(t,e){console.log("Datos guardados en Vuex (mutación set_notifications):",e),t.notifications=Array.isArray(e)?e:[]},show_covid_alert:function(t,e){t.showCovidAlert=e},set_covid_contribution:function(t){t.user.is_contribution=1}},actions:{oneSignalInit:function(t,e){t.commit,t.state;window&&window.plugins},login:function(t,e){var a=t.commit;return new Promise((function(t,i){a("auth_request"),P(e).then((function(e){var i={token:e.data.data.access_token,user:e.data.data.user};wo.setToken(i.token),a("auth_success",i),t(e.data.data)})).catch((function(t){a("auth_error"),wo.setToken(null),i(t)}))}))},saveSession:function(t,e){var a=t.commit;if(e.rememberMe){var i=j.a.AES.encrypt(e.rut,F).toString(),s=j.a.AES.encrypt(e.password,F).toString();a("set_session",{rut:i,password:s,rememberMe:!0})}else a("set_session",{rut:null,password:null,rememberMe:!1})},saveSessionRut:function(t,e){var a=t.commit;a("set_session_rut",e)},saveSessionPassword:function(t,e){var a=t.commit;a("set_session_password",e)},saveSessionRememberMe:function(t,e){var a=t.commit;a("set_session_rememberMe",e)},register:function(t,e){var a=t.commit,i=t.dispatch;return new Promise((function(t,s){a("auth_request"),D(e).then((function(e){var s={token:e.data.data.access_token,user:e.data.data.user};wo.setToken(s.token),i("oneSignalInit",s.user),a("auth_success",s),t(e.data.data)})).catch((function(t){a("auth_error"),wo.setToken(null),s(t)}))}))},complete:function(t,e){var a=t.commit;return new Promise((function(t,i){a("auth_request"),N(e).then((function(e){var i={user:e.data.user};a("auth_complete",i),t(e)})).catch((function(t){a("auth_error"),i(t)}))}))},public:function(t){var e=t.commit;return new Promise((function(t){e("auth_request");var a={user:{is_public:1,skip_auth:!0}};e("auth_success",a),t(a)}))},parents:function(t){var e=t.commit;return new Promise((function(t){e("auth_request");var a={user:{is_public:1,is_parent:1,skip_auth:!0}};e("auth_success",a),t(a)}))},logout:function(t){var e=t.commit;return new Promise((function(t){e("auth_request"),E().then().catch((function(e){401===e.response.status&&t()})).then((function(){var a={token:"",user:{}};wo.setToken(null),e("auth_success",a),e("set_layout","auth-layout"),t()}))}))},notifications:function(t,e){var a=t.commit,s=t.state;return new Promise((function(t,n){var o,r,l=(null===(o=s.user)||void 0===o?void 0:o.id)||(null===(r=JSON.parse(localStorage.getItem("user")))||void 0===r?void 0:r.id);if(!l)return console.error("ID de usuario no encontrado"),void n(new Error("ID de usuario no encontrado"));var c=Object(i["a"])(Object(i["a"])({},e),{},{id:l});T(c).then((function(e){console.log("Respuesta de getNotifications:",e),a("set_notifications",e),t(e)})).catch((function(t){console.error("Error al obtener las notificaciones:",t),n(t)}))}))}},getters:{rut:function(t){if(t.session.rut){var e=j.a.AES.decrypt(t.session.rut,F);return e.toString(j.a.enc.Utf8)}return null},password:function(t){if(t.session.password){var e=j.a.AES.decrypt(t.session.password,F);return e.toString(j.a.enc.Utf8)}return null},isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},alreadyContributeCovid:function(t){return!!t.user.covid}},modules:{},plugins:[Object(O["a"])()]}),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("auth-header"),a("div",{staticClass:"pt-6 pb-7 container"},[a("div",{staticClass:"parents-login text-center mb-6"},[a("p",{staticClass:"parents-login__title mb-1"},[t._v("Actividades educativas para que los niños/as aprendan en casa")]),a("p",{staticClass:"parents-login__description mb-3"},[t._v("No se requiere una cuenta")]),a("button",{staticClass:"parents-login__button button button--primary button--white",on:{click:t.handleParentsAccount}},[a("span",{staticClass:"button__text"},[t._v("Ingresa aquí")])])]),a("page-nav",{staticClass:"mb-3",attrs:{data:t.menu,color:"auth"}}),a("ValidationObserver",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[a("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),i(t.onSubmit)}}},[a("fieldset",{staticClass:"form__item"},[a("div",{staticClass:"form__fields"},[a("ValidationProvider",{staticClass:"form-group form-group--auth",attrs:{name:"usuario",rules:"required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label form-label--auth",attrs:{for:"rut"}},[t._v(" Usuario ")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons"},[t._v("account_circle")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.rut,expression:"data.rut"}],class:["form-control form-control--auth",i],attrs:{type:"text",id:"rut",name:"rut"},domProps:{value:t.data.rut},on:{input:function(e){e.target.composing||t.$set(t.data,"rut",e.target.value)}}})]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):a("small",{staticClass:"form-helper"},[t._v(" Ingresa tu rut sin puntos ni guion ")])]}}],null,!0)}),a("ValidationProvider",{staticClass:"form-group form-group--auth",attrs:{name:"contraseña",rules:"required|min:6",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label form-label--auth",attrs:{for:"password"}},[t._v(" Contraseña ")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons"},[t._v("lock_outline")]),t.hidePassword?a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],class:["form-control form-control--auth",i],attrs:{type:"password",id:"password",name:"password","data-vv-name":"contraseña"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],class:["form-control form-control--auth",i],attrs:{type:"text",id:"password",name:"password","data-vv-name":"contraseña"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}}),a("button",{staticClass:"form-button button",attrs:{type:"button"},on:{click:function(e){t.hidePassword=!t.hidePassword}}},[a("i",{staticClass:"button__icon material-icons",domProps:{textContent:t._s(t.hidePassword?"visibility":"visibility_off")}})])]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"checkbox checkbox--default"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.rememberMe,expression:"data.rememberMe"}],staticClass:"checkbox--default__input",attrs:{disabled:t.loading,type:"checkbox",id:"checkbox-accept-terms"},domProps:{checked:Array.isArray(t.data.rememberMe)?t._i(t.data.rememberMe,null)>-1:t.data.rememberMe},on:{change:function(e){var a=t.data.rememberMe,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);i.checked?o<0&&t.$set(t.data,"rememberMe",a.concat([n])):o>-1&&t.$set(t.data,"rememberMe",a.slice(0,o).concat(a.slice(o+1)))}else t.$set(t.data,"rememberMe",s)}}}),a("label",{staticClass:"checkbox--default__label",class:{"checkbox--default__label--disabled":t.loading},attrs:{for:"checkbox-accept-terms"}},[a("span",{staticClass:"checkbox--default__icon"},[a("svg",{staticClass:"checkbox--default__svg",attrs:{width:"12",height:"12",viewBox:"0 0 18 13",fill:"none"}},[a("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M17.7243 0.310521C18.1051 0.710542 18.0895 1.34352 17.6895 1.72431L6.13394 12.7243C5.9366 12.9122 5.67116 13.0114 5.399 12.999C5.12683 12.9866 4.8715 12.8637 4.69204 12.6587L0.247594 7.58176C-0.116187 7.16621 -0.0742203 6.53444 0.34133 6.17066C0.75688 5.80688 1.38865 5.84884 1.75243 6.26439L5.51013 10.5568L16.3105 0.275698C16.7106 -0.105092 17.3435 -0.0895011 17.7243 0.310521Z",fill:"#36a747"}})])]),a("span",{staticClass:"checkbox--default__text"},[t._v(" Recordar mi sesión ")])])]),a("div",{staticClass:"form__submit mt-4"},[a("router-link",{staticClass:"login-forgot button button--link font-weight-bold mb-5",attrs:{to:"/recuperar-contrasena"}},[a("span",{staticClass:"button__text"},[t._v("¿Olvidaste tu contraseña?")])]),a("infinite-button",{staticClass:"button--submit",attrs:{disabled:t.loading,label:t.loading?"Ingresando":"Iniciar sesión",loading:t.loading,icon:null,theme:"white",type:"submit"}})],1)])])]}}])})],1)],1)},R=[],z=(a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"auth-header"},[a("div",{staticClass:"container"},[a("p",{staticClass:"auth-header__label"},[t._v(t._s(t.label))]),a("figure",{staticClass:"auth-header__logo"},[a("img",{staticClass:"img-fluid",attrs:{src:t.logo.src,alt:t.logo.alt}})]),a("div",{staticClass:"auth-header__flag"})])])}),U=[],J={name:"auth-header",data:function(){return{label:"Bienvenido a",logo:{src:a("9f01"),alt:"Integra - Red de Salas Cuna y Jardines Infantiles"}}}},G=J,Q=a("0c7c"),Y=Object(Q["a"])(G,z,U,!1,null,null,null),Z=Y.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"page-nav",class:[t.color?"page-nav--"+t.color:""]},[a("ul",{staticClass:"page-nav__list"},t._l(t.data,(function(e){return a("li",{key:e.url,staticClass:"page-nav__item"},[a("router-link",{staticClass:"page-nav__link title title--xs",attrs:{to:e.url}},[a("span",{staticClass:"page-nav__label"},[t._v(t._s(e.label))])])],1)})),0)])},W=[],X={name:"page-nav",props:{data:{type:Array,required:!0},color:{type:String,default:""}},data:function(){return{}}},tt=X,et=Object(Q["a"])(tt,K,W,!1,null,null,null),at=et.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"button button--primary button--more w-100",class:[{"button--loading":t.loading},"button--"+(t.theme||"blue")],attrs:{disabled:t.disabled||t.loading,type:t.type},on:{click:function(e){return t.$emit("handle-infinite")}}},[a("span",{staticClass:"button__text"},[t._v(t._s(t.label))]),a("i",{staticClass:"button__icon material-icons",domProps:{textContent:t._s(t.loading?"refresh":t.icon)}})])},st=[],nt={name:"infinite-button",props:{disabled:{type:Boolean,default:!1},icon:{type:String,default:"add"},label:{type:String,default:""},loading:{type:Boolean,default:!1},theme:{type:String,default:""},type:{type:String,default:"button"}}},ot=nt,rt=Object(Q["a"])(ot,it,st,!1,null,null,null),lt=rt.exports,ct={name:"login",components:{AuthHeader:Z,PageNav:at,InfiniteButton:lt},data:function(){return{menu:[{label:"Regístrate",url:"/registrarse"},{label:"Inicia Sesión",url:"/ingresar"}],loading:!1,hidePassword:!0,data:{rut:this.$store.getters.rut||null,password:this.$store.getters.password||null,rememberMe:this.$store.state.session.rememberMe||!1}}},created:function(){this.$store.commit("set_layout","auth-layout"),this.$store.commit("logout")},methods:{submitForm:function(){var t=this;this.$store.dispatch("login",this.parseDataBeforeSend(this.data)).then((function(e){return t.$store.dispatch("saveSession",t.data),e.user.is_termn_home?(t.$store.commit("set_layout","app-layout"),t.$router.push("/")):t.$router.push("/legal")})).catch((function(e){var a="Lo sentimos, no has podido ingresar, intentalo nuevamente",i=e.response&&e.response.data&&e.response.data.message;i&&(a=i),t.data.password="",t.$store.commit("set_session_password",null),t.$toasted.show(a,{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},parseDataBeforeSend:function(t){var e=new FormData;return Object.keys(t).forEach((function(a){return e.append(a,t[a])})),e},onSubmit:function(){return this.loading=!0,this.submitForm()},handleParentsAccount:function(){var t=this;this.$store.dispatch("parents").then((function(){return t.$store.commit("set_layout","app-layout"),t.$router.push("/")}))}}},ut=ct,dt=Object(Q["a"])(ut,H,R,!1,null,null,null),mt=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"forgot"},[a("auth-header"),a("div",{staticClass:"pt-10 pb-8 container"},[t.showForm?a("ValidationObserver",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[a("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),i(t.onSubmit)}}},[a("fieldset",{staticClass:"form__item"},[a("div",{staticClass:"form__fields"},[a("p",{staticClass:"forgot__indication text-white"},[t._v(" Ingresa tu RUT y te enviaremos un correo para establecer tu contraseña ")]),a("ValidationProvider",{staticClass:"form-group form-group--auth",attrs:{name:"usuario",rules:"required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label form-label--auth",attrs:{for:"rut"}},[t._v(" Usuario ")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons"},[t._v("account_circle")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.rut,expression:"data.rut"}],class:["form-control form-control--auth",i],attrs:{type:"text",id:"rut",name:"rut"},domProps:{value:t.data.rut},on:{input:function(e){e.target.composing||t.$set(t.data,"rut",e.target.value)}}})]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):a("small",{staticClass:"form-helper"},[t._v(" Ingresa tu rut sin puntos ni guion ")])]}}],null,!0)})],1),a("div",{staticClass:"form__submit text-center"},[a("infinite-button",{attrs:{disabled:t.loading,label:t.loading?"Solicitando":"Solicitar contraseña",loading:t.loading,icon:null,theme:"white",type:"submit"}}),a("router-link",{staticClass:"login-forgot button button--link mt-6",attrs:{to:"/ingresar"}},[a("span",{staticClass:"button__text"},[t._v("Volver al inicio de sesión")])])],1)])])]}}],null,!1,834586823)}):a("div",{staticClass:"text-center"},[a("p",{staticClass:"forgot__indication text-white"},[t._v(" Revisa tu correo y sigue los pasos indicados para cambiar tu contraseña. ")]),a("router-link",{staticClass:"login-forgot button button--link mt-6",attrs:{to:"/ingresar"}},[a("span",{staticClass:"button__text"},[t._v("Volver al inicio de sesión")])])],1)],1)],1)},ft=[],ht=(a("ac1f"),a("5319"),{name:"forgot",components:{AuthHeader:Z,InfiniteButton:lt},data:function(){return{loading:!1,showForm:!0,data:{rut:""}}},methods:{submitForm:function(){var t=this;this.loading=!0,this.sendForgot(this.data.rut).then((function(){t.showForm=!1,t.data.rut=""})).catch((function(e){var a="Lo sentimos, ha ocurrido un error con nuestro servicio",i=e.response&&e.response.data&&e.response.data.data;i&&(a=i),t.$toasted.show(a,{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},parseDataBeforeSend:function(t){return t.replace(/[.-]/g,"")},onSubmit:function(){return this.loading=!0,this.submitForm()},sendForgot:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))()}}}),vt=ht,_t=Object(Q["a"])(vt,pt,ft,!1,null,null,null),gt=_t.exports,bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"recover"},[a("auth-header"),a("div",{staticClass:"pt-10 pb-8 container"},[t.showForm?a("ValidationObserver",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[a("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),i(t.onSubmit)}}},[a("fieldset",{staticClass:"form__item"},[a("div",{staticClass:"form__fields"},[a("p",{staticClass:"forgot__indication text-white"},[t._v(" Ingresa tu nueva contraseña 2 veces para cambiarla. ")]),a("ValidationProvider",{staticClass:"form-group form-group--auth",attrs:{name:"contraseña",rules:"required|confirmed:confirmation|min:6",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label form-label--auth",attrs:{for:"password"}},[t._v(" Nueva contraseña ")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons"},[t._v("lock_outline")]),t.hidePassword?a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],class:["form-control form-control--auth",i],attrs:{type:"password",id:"password",name:"password","data-vv-name":"contraseña",tabindex:"1"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],class:["form-control form-control--auth",i],attrs:{type:"text",id:"password",name:"password","data-vv-name":"contraseña",tabindex:"1"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}}),a("button",{staticClass:"form-button button",attrs:{type:"button"},on:{click:function(e){t.hidePassword=!t.hidePassword}}},[a("i",{staticClass:"button__icon material-icons",domProps:{textContent:t._s(t.hidePassword?"visibility":"visibility_off")}})])]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)}),a("ValidationProvider",{staticClass:"form-group form-group--auth",attrs:{name:"contraseña",rules:"required|min:6",tag:"div",vid:"confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label form-label--auth",attrs:{for:"confirm_password"}},[t._v(" Confirmar nueva contraseña ")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons"},[t._v("lock_outline")]),t.hideConfirmPassword?a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmation,expression:"confirmation"}],class:["form-control form-control--auth",i],attrs:{type:"password",id:"confirm_password",name:"confirm_password","data-vv-name":"contraseña",tabindex:"2"},domProps:{value:t.confirmation},on:{input:function(e){e.target.composing||(t.confirmation=e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmation,expression:"confirmation"}],class:["form-control form-control--auth",i],attrs:{type:"text",id:"password",name:"confirm_password","data-vv-name":"contraseña",tabindex:"2"},domProps:{value:t.confirmation},on:{input:function(e){e.target.composing||(t.confirmation=e.target.value)}}}),a("button",{staticClass:"form-button button",attrs:{type:"button"},on:{click:function(e){t.hideConfirmPassword=!t.hideConfirmPassword}}},[a("i",{staticClass:"button__icon material-icons",domProps:{textContent:t._s(t.hideConfirmPassword?"visibility":"visibility_off")}})])]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"form__submit text-center"},[a("infinite-button",{attrs:{disabled:t.loading,label:t.loading?"Cambiando":"Cambiar contraseña",loading:t.loading,icon:null,theme:"white",type:"submit",tabindex:"3"}}),a("router-link",{staticClass:"login-forgot button button--link mt-6",attrs:{to:"/ingresar"}},[a("span",{staticClass:"button__text"},[t._v("Volver al inicio de sesión")])])],1)])])]}}],null,!1,2142955283)}):a("div",{staticClass:"text-center"},[a("p",{staticClass:"forgot__indication text-white"},[t._v(" Tu contraseña ha sido cambiada. Ahora puedes ingresar con tu RUT y esta nueva contraseña. ")]),a("router-link",{staticClass:"login-forgot button button--link mt-6",attrs:{to:"/ingresar"}},[a("span",{staticClass:"button__text"},[t._v("Iniciar sesión")])])],1)],1)],1)},Ct=[],wt={name:"recover",components:{AuthHeader:Z,InfiniteButton:lt},data:function(){return{loading:!1,showForm:!0,hidePassword:!0,hideConfirmPassword:!0,data:{id:"",password:"",_method:"PUT"},confirmation:""}},mounted:function(){this.data.id=this.$route.query.user_id},methods:{submitForm:function(){var t=this;this.loading=!0,this.sendNewPassword(this.parseDataBeforeSend(this.data)).then((function(){t.showForm=!1})).catch((function(){t.$toasted.show("Ha ocurrido un error.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},parseDataBeforeSend:function(t){var e=new FormData;return Object.keys(t).forEach((function(a){return e.append(a,t[a])})),e},onSubmit:function(){return this.loading=!0,this.submitForm()},sendNewPassword:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))()}}},yt=wt,xt=Object(Q["a"])(yt,bt,Ct,!1,null,null,null),kt=xt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signup"},[a("auth-header"),a("div",{staticClass:"pt-6 pb-5 container"},[a("page-nav",{staticClass:"mb-5",attrs:{data:t.menu,color:"auth"}}),a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[a("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),i(t.onSubmit)}}},[a("fieldset",{staticClass:"form__item"},[a("div",{staticClass:"form__fields"},[a("ValidationProvider",{staticClass:"form-group form-group--auth",attrs:{name:"usuario",rules:"required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label form-label--auth",attrs:{for:"rut"}},[t._v("Usuario")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons"},[t._v("account_circle")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.rut,expression:"data.rut"}],class:["form-control form-control--auth",i],attrs:{type:"text",id:"rut",name:"rut",tabindex:"1"},domProps:{value:t.data.rut},on:{input:function(e){e.target.composing||t.$set(t.data,"rut",e.target.value)}}})]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):a("small",{staticClass:"form-helper"},[t._v(" Ingresa tu rut sin puntos ni guion ")])]}}],null,!0)}),a("ValidationProvider",{staticClass:"form-group form-group--auth",attrs:{name:"contraseña",rules:"required|min:6|confirmed:confirmation",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label form-label--auth",attrs:{for:"password"}},[t._v("Contraseña")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons"},[t._v("lock_outline")]),t.hidePassword?a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],class:["form-control form-control--auth",i],attrs:{type:"password",id:"password",name:"password","data-vv-name":"contraseña",tabindex:"2"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],class:["form-control form-control--auth",i],attrs:{type:"text",id:"password",name:"password","data-vv-name":"contraseña",tabindex:"2"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}}),a("button",{staticClass:"form-button button",attrs:{type:"button"},on:{click:function(e){t.hidePassword=!t.hidePassword}}},[a("i",{staticClass:"button__icon material-icons",domProps:{textContent:t._s(t.hidePassword?"visibility":"visibility_off")}})])]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):a("small",{staticClass:"form-helper"},[t._v(" Tu contraseña debe tener mínimo 6 caracteres ")])]}}],null,!0)}),a("ValidationProvider",{staticClass:"form-group form-group--auth",attrs:{name:"contraseña",rules:"required",tag:"div",vid:"confirmation"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label form-label--auth",attrs:{for:"confirm_password"}},[t._v(" Repetir contraseña ")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons"},[t._v("lock_outline")]),t.hideConfirmPassword?a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmation,expression:"confirmation"}],class:["form-control form-control--auth",i],attrs:{type:"password",id:"confirm_password",name:"confirm_password","data-vv-name":"contraseña",tabindex:"3 "},domProps:{value:t.confirmation},on:{input:function(e){e.target.composing||(t.confirmation=e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmation,expression:"confirmation"}],class:["form-control form-control--auth",i],attrs:{type:"text",id:"password",name:"confirm_password","data-vv-name":"contraseña",tabindex:"3 "},domProps:{value:t.confirmation},on:{input:function(e){e.target.composing||(t.confirmation=e.target.value)}}}),a("button",{staticClass:"form-button button",attrs:{type:"button"},on:{click:function(e){t.hideConfirmPassword=!t.hideConfirmPassword}}},[a("i",{staticClass:"button__icon material-icons",domProps:{textContent:t._s(t.hideConfirmPassword?"visibility":"visibility_off")}})])]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"form__submit mt-4"},[a("infinite-button",{staticClass:"button--submit",attrs:{disabled:t.loading,label:t.loading?"Registrando":"Comienza aquí",loading:t.loading,icon:null,theme:"white",type:"submit",tabindex:"4"}})],1)])])]}}])})],1)],1)},$t=[],jt={name:"signup",components:{AuthHeader:Z,PageNav:at,InfiniteButton:lt},data:function(){return{menu:[{label:"Regístrate",url:"/registrarse"},{label:"Inicia Sesión",url:"/ingresar"}],loading:!1,hidePassword:!0,hideConfirmPassword:!0,data:{rut:"",password:""},confirmation:""}},created:function(){this.$store.commit("set_layout","auth-layout"),this.$store.commit("logout")},methods:{submitForm:function(){var t=this;this.$store.dispatch("register",this.parseDataBeforeSend(this.data)).then((function(e){return e.user.is_termn_home&&!e.user.is_public?t.$router.push({name:"signup-data-review"}):t.$router.push({path:"/legal",query:{register:1}})})).catch((function(e){if(e){var a=e.response.data&&e.response.data.message;t.data.password="",t.confirmation="",t.$toasted.show(a,{theme:"outline",position:"bottom-center",duration:7e3})}})).then((function(){t.loading=!1}))},parseDataBeforeSend:function(t){var e=new FormData;return Object.keys(t).forEach((function(a){return e.append(a,t[a])})),e},onSubmit:function(){this.loading=!0,this.submitForm()},handleParentsAccount:function(){var t=this;this.$store.dispatch("parents").then((function(){return t.$store.commit("set_layout","app-layout"),t.$router.push("/")}))}}},Pt=jt,St=Object(Q["a"])(Pt,Ot,$t,!1,null,null,null),At=St.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signup-data signup-data--review"},[a("div",{staticClass:"pt-8 pb-7 container"},[a("div",{staticClass:"box"},[a("div",{staticClass:"text-center"},[a("p",{staticClass:"title title--xl my-2"},[t._v("¡Hola "+t._s(t.user.name)+"!")]),a("p",{staticClass:"title title--s"},[t._v("Datos de trabajo registrados")])]),t._m(0),a("div",{staticClass:"signup-data__separator mb-5"},[a("ul",{staticClass:"m-0 p-0"},t._l(t.reviewData,(function(e){return a("li",{key:e.key,staticClass:"user-data"},[a("i",{staticClass:"user-data__icon material-icons"},[t._v(t._s(e.icon))]),a("p",{staticClass:"user-data__label"},[a("span",{staticClass:"d-block text-primary"},[t._v(t._s(e.label)+":")]),a("span",{staticClass:"text-uppercase"},[t._v(t._s(t.userDataValue(e)))])])])})),0)]),a("div",{staticClass:"text"},[a("p",[t._v(t._s(t.helpText))])]),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":t.loading},attrs:{disabled:t.loading,label:t.loading?"Cargando...":"Continuar",loading:t.loading,icon:"arrow_forward"},on:{"handle-infinite":t.nextStep}})],1)])])])},Nt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progress-line mt-7 mb-6"},[a("div",{staticClass:"progress-line__item progress-line__item--active"}),a("div",{staticClass:"progress-line__item"})])}],Et={name:"signup-data-review",components:{InfiniteButton:lt},data:function(){return{loading:!1,helpText:"Para actualizar tus datos contáctate a Mesa de Ayuda teléfono 228 794 499 o al correo mayuda@integra.cl.",reviewData:[{key:"address",icon:"place",label:"Ubicación"},{key:"position",icon:"card_travel",label:"Cargo"},{key:"tipest",icon:"business",label:"Dependencia"},{key:"email",icon:"mail_outline",label:"Correo institucional"}]}},mounted:function(){this.$store.state.user.full_register&&this.$router.push({name:"home"})},computed:Object(i["a"])({},Object(k["b"])(["user"])),methods:{nextStep:function(){this.$router.push("/registrarse/completar-datos")},userDataValue:function(t){if("tipest"===t.key)switch(this.user[t.key]){case"C":return"Casa Central";case"R":return"Oficina Regional";case"E":return"Establecimientos";default:return""}return this.user[t.key]}}},It=Et,qt=Object(Q["a"])(It,Dt,Nt,!1,null,null,null),Mt=qt.exports,Bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signup-data signup-data--complete"},[a("div",{staticClass:"pt-8 pb-7 container"},[a("div",{staticClass:"box"},[a("div",{staticClass:"text-center"},[a("p",{staticClass:"title title--xl my-2"},[t._v(t._s(t.user.name)+",")]),a("p",{staticClass:"title title--s"},[t._v("Completa tus datos de contacto")])]),t._m(0),a("ValidationObserver",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[a("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),i(t.onSubmit)}}},[a("fieldset",{staticClass:"form__item"},[a("div",{staticClass:"form__fields signup-data__separator"},[a("ValidationProvider",{staticClass:"form-group",attrs:{name:"correo",rules:"required|email|max:100|integra",tag:"div",vid:t.data.email},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label",attrs:{for:"email"}},[a("i",{staticClass:"material-icons"},[t._v("mail_outline")]),t._v(" Correo personal: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],class:["form-control",i],attrs:{type:"email",id:"email",name:"email",placeholder:"mailejemplo@mail.com","data-vv-name":"correo personal"},domProps:{value:t.data.email},on:{input:function(e){e.target.composing||t.$set(t.data,"email",e.target.value)}}}),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)}),a("ValidationProvider",{staticClass:"form-group",attrs:{name:"correo",rules:"required|email|max:100|integra|confirmed:"+t.data.email,tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label",attrs:{for:"confirm_email"}},[a("i",{staticClass:"material-icons"},[t._v("mail_outline")]),t._v(" Confirmar correo personal: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmation,expression:"confirmation"}],class:["form-control",i],attrs:{type:"email",id:"confirm_email",name:"confirm_email",placeholder:"mailejemplo@mail.com","data-vv-name":"correo personal"},domProps:{value:t.confirmation},on:{input:function(e){e.target.composing||(t.confirmation=e.target.value)}}}),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)}),a("ValidationProvider",{staticClass:"form-group",attrs:{name:"celular",rules:"required|numeric|max:8",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label",attrs:{for:"phone"}},[a("i",{staticClass:"material-icons"},[t._v("phone_iphone")]),t._v(" Celular: ")]),a("div",{class:["form-wrapper",i]},[a("span",{staticClass:"form-prefix"},[t._v("+56 9")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.phone,expression:"data.phone"}],class:["form-control form-control--prefix",i],attrs:{type:"number",id:"phone",name:"phone",placeholder:"1234 5678","data-vv-name":"celular"},domProps:{value:t.data.phone},on:{input:function(e){e.target.composing||t.$set(t.data,"phone",e.target.value)}}})]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"text"},[a("p",[t._v(t._s(t.helpText))])]),a("div",{staticClass:"form__submit"},[a("infinite-button",{class:{"button--finish":t.loading},attrs:{disabled:t.loading,label:t.loading?"Comenzando...":"Comenzar",loading:t.loading,icon:null,type:"submit"}})],1)])])]}}])})],1)])])},Tt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"progress-line mt-7 mb-6"},[a("div",{staticClass:"progress-line__item progress-line__item--active"}),a("div",{staticClass:"progress-line__item progress-line__item--active"})])}],Lt={name:"signup-data-complete",components:{InfiniteButton:lt},data:function(){return{loading:!1,helpText:"Para actualizar tus datos contáctate a Mesa de Ayuda teléfono 228 794 499 o al correo mayuda@integra.cl.",data:{email:"",phone:""},confirmation:""}},mounted:function(){this.$store.state.user.full_register&&this.$router.push({name:"home"})},computed:Object(i["a"])({},Object(k["b"])(["user"])),methods:{submitForm:function(){var t=this;this.$store.dispatch("complete",this.parseDataBeforeSend(this.data)).then((function(){return t.$router.push({name:"onboarding"})})).catch((function(e){var a="Lo sentimos, no hemos podido actualizar tus datos personales",i=e.response&&e.response.data&&e.response.data.data;i&&(a=i),t.$toasted.show(a,{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},parseDataBeforeSend:function(t){var e=new FormData;return Object.keys(t).forEach((function(a){return e.append(a,t[a])})),e},onSubmit:function(){this.loading=!0,this.submitForm()}}},Ft=Lt,Vt=Object(Q["a"])(Ft,Bt,Tt,!1,null,null,null),Ht=Vt.exports,Rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"onboarding"},[a("div",{staticClass:"py-7 container"},[a("div",{staticClass:"box box--sm-radius p-0 pb-4"},[a("slick",{ref:"slick",staticClass:"onboarding__slider",attrs:{options:t.slickOptions},on:{beforeChange:t.stopVideo}},t._l(t.data,(function(e,i){return a("div",{key:e.id,staticClass:"onboarding__item text-center"},[a("div",{staticClass:"onboarding__image"},[e.video?a("div",{staticClass:"embed-responsive"},[a("youtube",{ref:"items",refInFor:!0,attrs:{"video-id":e.video,"player-vars":t.playerVars}})],1):a("img",{staticClass:"img-fluid",attrs:{src:e.img.src,alt:e.img.alt}})]),a("div",{staticClass:"onboarding__content"},[a("h2",{staticClass:"title title--l"},[t._v(t._s(e.title))]),e.text?a("div",{staticClass:"onboarding__text text mt-5",domProps:{innerHTML:t._s(e.text)}}):t._e()]),a("div",{staticClass:"onboarding__action"},[i!==t.data.length-1?a("button",{staticClass:"button",attrs:{type:"button"},on:{click:t.next}},[a("span",{staticClass:"button__text"},[t._v("Continuar")]),a("i",{staticClass:"button__icon material-icons text-primary"},[t._v("arrow_forward")])]):a("button",{staticClass:"button button--primary",attrs:{type:"button"},on:{click:t.finishOnboarding}},[a("span",{staticClass:"button__text"},[t._v("Comenzar")])])])])})),0)],1)])])},zt=[],Ut=function(){return wo.get("/work/table/tutorial")},Jt=function(){return wo.get("/work/table/faq")},Gt=function(){return wo.get("/work/table/contact")},Qt=function(){return wo.get("/onboarding")},Yt=a("7ecd"),Zt={name:"onboarding",components:{Slick:Yt["a"]},data:function(){return{loading:!1,currentStep:0,data:[],playerVars:{autoplay:0,modestbranding:1,rel:0,enablejsapi:1,playsinline:1,fs:0},slickOptions:{slidesToShow:1,arrows:!1,adaptiveHeight:!0,dots:!0,infinite:!1}}},mounted:function(){this.$store.state.user.full_register?this.$router.push({name:"home"}):(this.getData(),this.$store.commit("set_layout","auth-layout"))},beforeUpdate:function(){this.$refs.slick&&this.$refs.slick.destroy()},methods:{getData:function(){var t=this;this.loading=!0,this.getOnboardingData().then((function(e){t.data=e.data&&e.data.length?e.data:e})).catch((function(){t.$toasted.show("No hemos podido obtener la información del onboarding.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){setTimeout((function(){t.$refs.slick.create()}),500),t.loading=!1}))},finishOnboarding:function(){var t=this;wo.put("/user/register/full",{flag:1}).then((function(e){var a={user:e.data.data};t.$store.commit("auth_complete",a)})).catch().then((function(){t.$store.commit("set_layout","app-layout"),t.$router.push("/")}))},next:function(){this.$refs.slick.next()},stopVideo:function(){if(this.$refs.items)for(var t=0;t<this.$refs.items.length;t+=1)this.$refs.items[t].player.stopVideo()},getOnboardingData:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Qt();case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()}}},Kt=Zt,Wt=(a("da81"),Object(Q["a"])(Kt,Rt,zt,!1,null,null,null)),Xt=Wt.exports,te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--general-terms"},[a("section",{staticClass:"section py-6"},[a("div",{staticClass:"container"},[a("div",{staticClass:"terms terms--general"},[a("div",{staticClass:"pl-5 pr-6 py-7"},[a("h3",{staticClass:"title"},[a("i",{staticClass:"material-icons"},[t._v(t._s(t.data.heading.icon))]),t._v(" "+t._s(t.data.heading.title)+" ")]),a("div",{staticClass:"text mt-6"},[a("ol",{staticClass:"terms__list"},t._l(t.data.terms,(function(e,i){return a("li",{key:i,staticClass:"terms__item"},[a("p",[t._v(t._s(e.name))])])})),0)])])]),a("div",{staticClass:"text-center mt-6"},[a("button",{staticClass:"button button--primary button--white button--columns w-100",on:{click:function(e){return t.handleAcceptTerms()}}},[a("span",{staticClass:"button__text"},[t._v("Sí, acepto los términos y condiciones")]),a("i",{staticClass:"button__icon material-icons text-primary"},[t._v("arrow_forward")])])])])])])},ee=[],ae=(a("b0c0"),a("1940")),ie=a.n(ae),se=function(){return wo.get("/terms")},ne=function(){return wo.put("/user/home/term")},oe={name:"salaty-terms",data:function(){return{loading:!1,data:{heading:{icon:"format_list_bulleted",title:"Términos y condiciones"},terms:[]}}},created:function(){this.$store.commit("set_layout","auth-layout")},mounted:function(){this.getTerms(),this.$store.state.user.is_termn_home&&this.$store.state.user.full_register&&this.$router.push({name:"home"}),"186645863"===this.$store.state.user.rut&&this.handleSuccess()},methods:{getTerms:function(){var t=this;this.loading=!0,this.getTermsData().then((function(e){t.data.terms=e.name})).catch((function(t){return t})).then((function(){t.loading=!1}))},handleAcceptTerms:function(){var t=this;this.loading=!0,this.acceptTerms().then((function(e){var a={user:e};t.$store.commit("auth_complete",a),ie()({icon:"success",title:"Has aceptado los términos y condiciones y políticas de privacidad",button:"Ir a la aplicación"}).then((function(){t.handleSuccess()}))})).catch((function(){t.$toasted.show("Ha ocurrido un problema mientras intentabamos procesar tu solicitud, por favor intentalo nuevamente.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},handleSuccess:function(){this.$store.state.user.is_public?this.$router.push({name:"onboarding"}):this.$route.query.register?this.$router.push({name:"signup-data-review"}):(this.$store.commit("set_layout","app-layout"),this.$router.push("/"))},getTermsData:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,se();case 2:return e=t.sent,t.abrupt("return",e.data.data);case 4:case"end":return t.stop()}}),t)})))()},acceptTerms:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ne();case 2:return e=t.sent,t.abrupt("return",e.data.data);case 4:case"end":return t.stop()}}),t)})))()}}},re=oe,le=Object(Q["a"])(re,te,ee,!1,null,null,null),ce=le.exports,ue=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--home"},[a("section",{staticClass:"section section--light pt-9"},[a("div",{staticClass:"container pt-7"},[t.showAlert?a("div",{staticClass:"mb-6"},[a("transition",{attrs:{appear:"",name:"fade"}},[a("banner-alert",{attrs:{button:{label:"Aportar",to:{name:"covid19"}},closable:!1,text:t.alert_message},on:{close:t.hideAlert}})],1)],1):t._e(),a("heading",{attrs:{data:t.today.heading}}),t.today.data.length?a("div",[a("div",{staticClass:"mt-5"},[t._l(t.today.data,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isPublic(e),expression:"isPublic(button)"}],key:e.title,staticClass:"mb-5 last"},[a("section-button",{attrs:{data:e}})],1)})),t.showSurveys?a("div",t._l(t.surveys,(function(e){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isPublic(e),expression:"isPublic(button)"}],key:e.title,staticClass:"mb-5 last"},[a("section-button",{attrs:{data:{class:e.class,icon:e.icon,slug:"encuestas/"+e.slug+"?color="+e.class,title:e.title_button}}})],1)})),0):t._e(),t.user.is_parent?a("div",{staticClass:"mb-5 last"},[a("section-button",{attrs:{data:t.material}})],1):t._e()],2)]):a("div",[a("div",{staticClass:"mt-5"},t._l(3,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("section-button",{attrs:{loading:!0}})],1)})),0)])],1)]),t.posts.data.length?a("section",{staticClass:"section section--lighter"},[a("div",{staticClass:"container"},[a("heading",{attrs:{data:t.releases.heading,theme:"red"}}),t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.releases.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,url:"/comunicados/"+t.slug,theme:"red"}})],1)})),0)]):a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)])],1)]):t._e(),t.posts.data.length?a("section",{staticClass:"section section--white pb-7"},[a("div",{staticClass:"container"},[a("heading",{attrs:{data:t.posts.heading,theme:"blue"}}),t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.posts.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,url:"/noticias/"+t.slug,theme:"blue"}})],1)})),0)]):a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)])],1)]):t._e()])},de=[],me=(a("4de4"),a("7db0"),function(){return wo.get("/home")}),pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"heading",class:[t.color?"heading--"+t.color:""]},[t.data.label?a("p",{staticClass:"heading__label"},[t._v(t._s(t.data.label))]):t._e(),"h1"===t.data.level?a("h1",{staticClass:"title title--l"},[t._v(" "+t._s(t.data.title)+" ")]):a("h2",{staticClass:"title title--s",class:{"mx-auto":!t.data.url&&!t.data.label}},[t._v(" "+t._s(t.data.title)+" ")]),t.data.url?a("div",[a("normal-button",{staticClass:"button--icon button--circle",attrs:{icon:"arrow_forward",theme:t.theme,url:t.data.url}})],1):t._e()])},fe=[],he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.customUrl?a("router-link",{staticClass:"button",class:["button--"+t.customClass],attrs:{to:t.customUrl}},[t.customIcon?a("i",{staticClass:"button__icon material-icons"},[t._v(" "+t._s(t.customIcon)+" ")]):t._e(),t.customLabel?a("span",{staticClass:"button__text"},[t._v(" "+t._s(t.customLabel)+" ")]):t._e()]):t._e()},ve=[],_e={name:"normal-button",props:{button:{type:[Object,String],default:""},url:{type:String,default:""},icon:{type:String,default:""},title:{type:String,default:""},theme:{type:String,default:""}},computed:{customUrl:function(){return this.button.url||this.url},customIcon:function(){return this.button.icon||this.icon},customLabel:function(){return this.button.title||this.title},customClass:function(){return this.button.class||this.theme||"blue"}}},ge=_e,be=Object(Q["a"])(ge,he,ve,!1,null,null,null),Ce=be.exports,we={name:"heading",components:{NormalButton:Ce},props:{data:{type:Object,required:!0},theme:{type:String,default:""},color:{type:String,default:""}}},ye=we,xe=Object(Q["a"])(ye,pe,fe,!1,null,null,null),ke=xe.exports,Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{appear:"",name:"fade"}},[a("div",[t.loading?a("div",{staticClass:"button button--section button--section-loading"},[a("span",{staticClass:"button__text"},[t._v(" Cargando... ")])]):t._e(),t.data.slug||t.data.title?a("router-link",{staticClass:"button button--section",class:t.isHexColor?null:"button--"+t.data.class,style:t.isHexColor?{backgroundColor:t.data.class}:null,attrs:{to:"/"+t.data.slug}},[t.data.icon?a("i",{staticClass:"button__icon material-icons"},[t._v(" "+t._s(t.data.icon)+" ")]):t._e(),t.data.title?a("span",{staticClass:"button__text"},[t._v(" "+t._s(t.data.title)+" ")]):t._e(),t.data.label?a("span",{staticClass:"button__label"},[t._v(" "+t._s(t.data.label)+" ")]):t._e()]):t._e()],1)])},$e=[],je=(a("00b4"),{name:"section-button",props:{data:{type:[Boolean,Object],default:!1},loading:{type:Boolean,default:!1}},computed:{isHexColor:function(){return/^#([0-9A-F]{3}){1,2}$/i.test(this.data.class)}}}),Pe=je,Se=Object(Q["a"])(Pe,Oe,$e,!1,null,null,null),Ae=Se.exports,De=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("article",{staticClass:"post-card",class:[t.data.icon||t.icon?"post-card--icon":"post-card--image","post-card--"+t.theme]},[i("transition",{attrs:{appear:"",name:"fade"}},[t.loading?i("div",{staticClass:"post-card post-card--loading"}):t._e(),t.data.id||t.data.icon?i("router-link",{attrs:{to:t.customUrl,disabled:!t.customUrl}},[t.data.icon||t.icon?i("div",{staticClass:"post-card__icon"},["integrito"!==t.icon?i("i",{staticClass:"material-icons"},[t._v(t._s(t.data.icon?t.data.icon:t.icon))]):i("img",{staticClass:"material-icons",attrs:{src:a("6d59")}})]):t._e(),t.data.img&&!t.icon?i("div",{staticClass:"post-card__image"},[i("img",{attrs:{src:t.data.img.src,alt:t.data.img.alt}})]):t._e(),i("div",{staticClass:"post-card__content"},[i("div",[t.data.date?i("date",{staticClass:"post-card__date",attrs:{date:t.data.date}}):t._e(),t.data.label?i("p",{staticClass:"post-card__date date"},[i("span",{staticClass:"date__text"},[t._v(t._s(t.data.label))])]):t._e(),i("h3",{staticClass:"post-card__title"},[t._v(t._s(t.data.title))]),i("div",{staticClass:"post-card__button"},[i("normal-button",{staticClass:"button--icon",attrs:{icon:"arrow_forward",theme:t.theme,url:t.customUrl}})],1)],1)])]):t._e()],1)],1)},Ne=[],Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.date?a("p",{staticClass:"date"},[a("i",{staticClass:"date__icon material-icons"},[t._v("access_time")]),a("span",{staticClass:"date__text"},[t._v(t._s(t.date))])]):t._e()},Ie=[],qe={name:"date",props:{date:{type:String,required:!0}}},Me=qe,Be=Object(Q["a"])(Me,Ee,Ie,!1,null,null,null),Te=Be.exports,Le={name:"post-card",components:{Date:Te,NormalButton:Ce},props:{data:{type:[Boolean,Object],default:!1},icon:{type:String,default:""},url:{type:String,default:""},theme:{type:String,default:"default"},loading:{type:Boolean,default:!1}},computed:{customUrl:function(){return this.url||this.data.url||""}}},Fe=Le,Ve=Object(Q["a"])(Fe,De,Ne,!1,null,null,null),He=Ve.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"banner-alert"},[t.closable?a("button",{staticClass:"banner-alert__close button button--icon",on:{click:function(e){return t.$emit("close")}}},[a("i",{staticClass:"button__icon material-icons"},[t._v("close")])]):t._e(),a("p",{staticClass:"title title--m text-white"},[t._v(t._s(t.text))]),t.button?a("router-link",{staticClass:"banner-alert__button button button--primary button--white button--small mt-4",attrs:{to:t.button.to}},[a("span",{staticClass:"button__text"},[t._v(t._s(t.button.label))])]):t._e()],1)},ze=[],Ue={name:"BannerAlert",props:{button:{type:Object,default:null},closable:{type:Boolean,default:!1},text:{type:String,default:null}}},Je=Ue,Ge=Object(Q["a"])(Je,Re,ze,!1,null,null,null),Qe=Ge.exports,Ye={name:"home",components:{Heading:ke,SectionButton:Ae,PostCard:He,BannerAlert:Qe},data:function(){return{defaultLoadingItems:2,alert:!1,alert_message:"",today:{heading:{title:"¿Qué quieres revisar hoy?"},data:[]},surveys:[],releases:{heading:{title:"Últimos comunicados",url:"/comunicados"},data:[]},posts:{heading:{title:"Últimas noticias",url:"/noticias"},data:[]}}},created:function(){this.$store.commit("set_layout","app-layout"),this.$store.commit("set_title","")},mounted:function(){var t=this;this.getHomeData().then((function(e){t.populateData(e)}))},computed:Object(i["a"])(Object(i["a"])({},Object(k["b"])(["user","showCovidAlert"])),{},{showAlert:function(){return this.alert&&!this.user.is_parent&&!this.user.is_public},showSurveys:function(){return!this.user.is_parent&&this.surveys.length&&!this.user.is_public}}),methods:{isEnabled:function(t){return"servicios"!==t.slug||"186645863"!==this.user.rut},isPublic:function(t){return(!this.user.is_public||"servicios"!==t.slug)&&(!this.user.is_public||"certificados/renta-1887"!==t.slug)},getHomeData:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,me();case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()},hideAlert:function(){this.alert=!1,this.$store.commit("show_covid_alert",!1)},populateData:function(t){var e=t.data;this.today.data=e.today.data.filter((function(t){return"material-educativo"!==t.slug})),this.material=e.today.data.find((function(t){return"material-educativo"===t.slug})),this.surveys=e.survey?e.survey.data:[],this.releases.data=e.releases.data,this.posts.data=e.posts.data,this.alert=!!t.alert||!1,this.alert_message=t.alert_message||""}}},Ze=Ye,Ke=Object(Q["a"])(Ze,ue,de,!1,null,null,null),We=Ke.exports,Xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--news"},[a("section",{staticClass:"section pt-9"},[a("div",{staticClass:"blue-shape"}),a("div",{staticClass:"container position-relative pt-7"},[a("heading",{attrs:{data:t.posts.heading,color:"light"}}),t.posts.data.length&&!t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.posts.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,url:"/noticias/"+t.slug}})],1)})),0),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":this.pagination.finish},attrs:{disabled:this.pagination.finish,label:this.pagination.finish?"No hay más noticias":"Cargar más",loading:t.loading,theme:"blue"},on:{"handle-infinite":t.getMoreNews}})],1)]):t.posts.data.length||t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-white mb-4"},[t._v("error")]),a("h3",{staticClass:"title title--s text-white"},[t._v(" No hay noticias publicadas ")])])],1)])])},ta=[],ea=function(t){return wo.get("/posts/",{params:t})},aa=function(t,e){return wo.get("/".concat(t,"/").concat(e))},ia={name:"news",components:{Heading:ke,PostCard:He,InfiniteButton:lt},data:function(){return{loading:!1,defaultLoadingItems:5,posts:{heading:{label:"Estás viendo",title:"Últimas noticias"},data:[]},pagination:{finish:!1,page:1}}},created:function(){this.$store.commit("set_title","Noticias")},mounted:function(){this.getNews()},methods:{getNews:function(){var t=this;this.pagination.finish||(this.loading=!0,this.getNewsData(this.pagination).then(this.checkNextPage).then(this.populateNews).then((function(){t.loading=!1})))},checkNextPage:function(t){return this.pagination.finish=!t.posts.next_page_url,t},populateNews:function(t){var e=t.posts.data;return this.posts.data=1===this.pagination.page?e:this.posts.data.concat(e),t},getMoreNews:function(){this.pagination.page+=1,this.getNews()},getNewsData:function(){var t=arguments;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,ea(a);case 3:return i=e.sent,e.abrupt("return",i.data.data);case 5:case"end":return e.stop()}}),e)})))()}}},sa=ia,na=Object(Q["a"])(sa,Xe,ta,!1,null,null,null),oa=na.exports,ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--releases"},[a("section",{staticClass:"section pt-9"},[a("div",{staticClass:"red-shape"}),a("div",{staticClass:"container position-relative pt-7"},[a("page-nav",{staticClass:"mb-7",attrs:{data:t.menu,color:"light"}}),t.releases.data.length&&!t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.releases.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,url:"/comunicados/"+t.slug,theme:"red"}})],1)})),0),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":t.pagination.finish},attrs:{disabled:t.pagination.finish,label:t.pagination.finish?"No hay más comunicados":"Cargar más",loading:t.loading,theme:"red"},on:{"handle-infinite":t.getMoreNews}})],1)]):t.releases.data.length||t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-danger mb-4 pt-5"},[t._v("error")]),a("h3",{staticClass:"title title--s text-danger"},[t._v(" No hay comunicados publicados ")])])],1)])])},la=[],ca=a("2909"),ua=(a("4e82"),a("3ca3"),a("ddb0"),function(t){return wo.get("/releases/",{params:t})}),da=function(t){return wo.get("/job/offers",{params:t})},ma={name:"home",components:{PageNav:at,PostCard:He,InfiniteButton:lt},data:function(){return{loading:!1,defaultLoadingItems:50,menu:[{label:"Comunicados",url:"/comunicados"},{label:"Ofertas laborales",url:"/ofertas"}],releases:{data:[]},pagination:{finish:!1,page:1}}},created:function(){this.$store.commit("set_title","Comunicados")},mounted:function(){this.getItems(),this.getAllReleases()},methods:{getItems:function(){var t=this;this.pagination.finish||(this.loading=!0,this.getApiData(this.pagination).then(this.checkNextPage).then(this.populateData).finally((function(){t.loading=!1})))},checkNextPage:function(t){return this.pagination.finish=!t.posts.next_page_url,t},populateData:function(t){var e=t.posts.data;return this.releases.data=1===this.pagination.page?e:this.releases.data.concat(e),this.releases.data.sort((function(t,e){return new Date(e.datetime)-new Date(t.datetime)})),t},getMoreNews:function(){this.pagination.page+=1,this.getItems()},getApiData:function(){var t=arguments;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{finish:!1,page:1},e.next=3,ua(a);case 3:return i=e.sent,console.log("API response:",i),e.abrupt("return",i.data.data);case 6:case"end":return e.stop()}}),e)})))()},getAllReleases:function(){var t=this;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i,s,n,o,r,l,c;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=[],i=1,s=null,t.loading=!0,e.prev=4,e.next=7,ua({page:i});case 7:for(n=e.sent,o=n.data.data.posts,a.push.apply(a,Object(ca["a"])(o.data)),s=o.last_page,r=[],l=2;l<=s;l+=1)r.push(ua({page:l}));return e.next=15,Promise.all(r);case 15:c=e.sent,c.forEach((function(t){var e=t.data.data.posts;a.push.apply(a,Object(ca["a"])(e.data))})),t.releases.data=a,console.log("Todos los registros cargados:",a),e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](4),console.error("Error al cargar los registros:",e.t0);case 24:return e.prev=24,t.loading=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[4,21,24,27]])})))()}}},pa=ma,fa=Object(Q["a"])(pa,ra,la,!1,null,null,null),ha=fa.exports,va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--releases"},[a("section",{staticClass:"section pt-9"},[a("div",{staticClass:"orange-shape"}),a("div",{staticClass:"container position-relative pt-7"},[a("page-nav",{staticClass:"mb-7",attrs:{data:t.menu,color:"light"}}),t.benefits.data.length&&!t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.benefits.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,icon:"integrito",url:"/beneficios/"+t.slug,theme:"orange"}})],1)})),0),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":t.pagination.finish},attrs:{disabled:t.pagination.finish,label:t.pagination.finish?"No hay más beneficios":"Cargar más",loading:t.loading,theme:"orange"},on:{"handle-infinite":t.getMoreNews}})],1)]):t.benefits.data.length||t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-danger mb-4 pt-5"},[t._v("error")]),a("h3",{staticClass:"title title--s text-primary"},[t._v(" No hay beneficios publicados ")])])],1)])])},_a=[],ga=function(t){return wo.get("/benefits",{params:t})},ba=function(t){return wo.get("/benefit/".concat(t))},Ca=function(t){return wo.get("/benefits?other=1",{params:t})},wa={name:"benefits",components:{PageNav:at,PostCard:He,InfiniteButton:lt},data:function(){return{loading:!1,defaultLoadingItems:5,menu:[{label:"Beneficios institucionales",url:"/beneficios"},{label:"Otros beneficios",url:"/otros-beneficios"}],benefits:{data:[]},pagination:{finish:!1,page:1}}},created:function(){this.$store.commit("set_title","Beneficios")},mounted:function(){this.getItems()},methods:{getItems:function(){var t=this;this.pagination.finish||(this.loading=!0,this.getApiData(this.pagination).then(this.checkNextPage).then(this.populateData).then((function(){t.loading=!1})))},checkNextPage:function(t){var e=this;return 0===t.length?this.$store.dispatch("logout").then((function(){return e.$router.push({name:"login"})})):this.pagination.finish=!t.benefits.next_page_url,t},populateData:function(t){var e=t.benefits.data;return this.benefits.data=1===this.pagination.page?e:this.benefits.data.concat(e),t},getMoreNews:function(){this.pagination.page+=1,this.getItems()},getApiData:function(){var t=arguments;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,ga(a);case 3:return i=e.sent,e.abrupt("return",i.data.data);case 5:case"end":return e.stop()}}),e)})))()}}},ya=wa,xa=Object(Q["a"])(ya,va,_a,!1,null,null,null),ka=xa.exports,Oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--releases"},[a("section",{staticClass:"section pt-9"},[a("div",{staticClass:"dark-orange-shape"}),a("div",{staticClass:"container position-relative pt-7"},[a("page-nav",{staticClass:"mb-7",attrs:{data:t.menu,color:"light"}}),t.benefits.data.length&&!t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.benefits.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,icon:"volunteer_activism",url:"/beneficios/"+t.slug,theme:"dark-orange"}})],1)})),0),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":t.pagination.finish},attrs:{disabled:t.pagination.finish,label:t.pagination.finish?"No hay más beneficios":"Cargar más",loading:t.loading,theme:"dark-orange"},on:{"handle-infinite":t.getMoreNews}})],1)]):t.benefits.data.length||t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-danger mb-4 pt-5"},[t._v("error")]),a("h3",{staticClass:"title title--s text-danger"},[t._v(" No hay beneficios publicados ")])])],1)])])},$a=[],ja={name:"home",components:{PageNav:at,PostCard:He,InfiniteButton:lt},data:function(){return{loading:!1,defaultLoadingItems:5,menu:[{label:"Beneficios institucionales",url:"/beneficios"},{label:"Otros beneficios",url:"/otros-beneficios"}],benefits:{data:[]},pagination:{finish:!1,page:1}}},created:function(){this.$store.commit("set_title","Otros beneficios")},mounted:function(){this.getItems()},methods:{getItems:function(){var t=this;this.pagination.finish||(this.loading=!0,this.getApiData(this.pagination).then(this.checkNextPage).then(this.populateData).then((function(){t.loading=!1})))},checkNextPage:function(t){return this.pagination.finish=!t.benefits.next_page_url,t},populateData:function(t){var e=t.benefits.data;return this.benefits.data=1===this.pagination.page?e:this.benefits.data.concat(e),t},getMoreNews:function(){this.pagination.page+=1,this.getItems()},getApiData:function(){var t=arguments;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,Ca(a);case 3:return i=e.sent,e.abrupt("return",i.data.data);case 5:case"end":return e.stop()}}),e)})))()}}},Pa=ja,Sa=Object(Q["a"])(Pa,Oa,$a,!1,null,null,null),Aa=Sa.exports,Da=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view view--single view--new"},[i("article",{key:t.data.slug,staticClass:"new section pt-9"},[i("div",{staticClass:"container pt-7"},[t.loading?i("div",[i("div",{staticClass:"integrito-loading"},[i("img",{staticClass:"img-fluid",attrs:{src:a("f69c"),alt:"Integrito"}})])]):i("div",[i("date",{staticClass:"new__date mb-5",attrs:{date:t.data.date}}),i("heading",{attrs:{data:t.data.heading}}),t.data.featured_img?i("figure",{staticClass:"mt-6 mb-7"},[i("img",{staticClass:"img-fluid rounded shadow w-100",attrs:{src:t.data.featured_img.src,alt:t.data.featured_img.alt}})]):t._e(),i("div",{style:{fontSize:t.fontSize+"rem"}},[t.data.post_intro?i("div",{staticClass:"new__intro text text--font-inherit mb-4",domProps:{innerHTML:t._s(t.data.post_intro)}}):t._e(),t.data.post_content?i("div",{staticClass:"new__text text text--font-inherit mb-7",domProps:{innerHTML:t._s(t.data.post_content)}}):t._e(),t.data.video?i("div",{staticClass:"embed-responsive"},[i("youtube",{ref:"items",attrs:{"video-id":t.data.video,"player-vars":t.playerVars}})],1):t._e(),t.data.links&&t.data.links.length?i("div",{staticClass:"new__links"},t._l(t.data.links,(function(e,a){return i("div",{key:a},[i("button",{staticClass:"button button--link button--blue",on:{click:function(a){return t.openLink(e)}}},[i("i",{staticClass:"button__icon material-icons"},[t._v(t._s(e.icon))]),i("span",{staticClass:"button__text"},[t._v(t._s(e.label||"Ver enlace"))])])])})),0):t._e()])],1)])]),t.loading?t._e():i("div",[t.documents.data.length?i("section",{staticClass:"section section--lighter"},[i("div",{staticClass:"container"},[i("heading",{attrs:{data:t.documents.heading}}),i("div",{staticClass:"mt-5"},t._l(t.documents.data,(function(e,a){return i("div",{key:e.id,staticClass:"tutorial mb-5 last",class:{"tutorial--active":t.currentCollapse===a&&!e.url}},[i("header",{staticClass:"tutorial__header"},[i("h3",{staticClass:"tutorial__title title title--s"},[i("button",{staticClass:"tutorial__collapse button w-100",on:{click:function(i){return t.changeAccordion(a,e)}}},[i("i",{staticClass:"material-icons"},[t._v(t._s(e.icon))]),i("span",[t._v(t._s(e.title))])])])]),i("div",{staticClass:"tutorial__content"},[e.video?i("div",{staticClass:"onboarding__image"},[t.currentCollapse===a?i("div",{staticClass:"embed-responsive"},[i("youtube",{attrs:{"video-id":e.video,"player-vars":t.playerVars}})],1):t._e()]):t._e(),e.text?i("div",{staticClass:"px-4 py-5",domProps:{innerHTML:t._s(e.text)}}):t._e()])])})),0)],1)]):t._e(),t.related.data.length?i("section",{staticClass:"section pb-7",class:[t.documents.data.length?"section--light":"section--lighter"]},[i("div",{staticClass:"container"},[i("heading",{staticClass:"mb-3",attrs:{data:t.related.heading}})],1)]):t._e(),t.data.files?i("section",{staticClass:"section pb-7"},[i("div",{staticClass:"container"},t._l(t.data.files,(function(t,e){return i("aditional-material",{key:e,attrs:{item:t}})})),1)]):t._e()])])},Na=[],Ea=(a("a4d3"),a("e01a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("article",{staticClass:"aditional-material aditional-material--icon mb-5"},[a("transition",{attrs:{appear:"",name:"fade"}},[t.loading?a("div",{staticClass:"aditional-material aditional-material--loading"}):t._e(),a("button",{staticClass:"aditional-material__button",on:{click:function(e){return t.handleReviewBrowser(t.item.src)}}},[a("div",{staticClass:"aditional-material__icon"},[a("i",{staticClass:"material-icons"},[t._v(t._s(t.icon))])]),a("div",{staticClass:"aditional-material__content"},[a("div",[a("h3",{staticClass:"aditional-material__title"},[t._v(t._s(t.item.alt))]),a("div",{staticClass:"aditional-material__action"},[a("i",{staticClass:"material-icons"},[t._v("add")])])])])])])],1)}),Ia=[],qa=(a("fb6a"),{name:"aditional-material",components:{},data:function(){return{icon:"",fileType:""}},props:{item:{type:[Boolean,Object],default:!1},theme:{type:String,default:"default"},loading:{type:Boolean,default:!1}},methods:{handleReviewBrowser:function(t){window.open(t,"_system","location=no,footer=yes,toolbarposition=top,closebuttoncaption=Volver,toolbarcolor=#FFFFFF")},fileName:function(){var t=15,e=this.file,a=e.split("/"),i=e.slice(-4);return"".concat(a[a.length-1].slice(0,t),"(...)").concat(i)}},mounted:function(){this.icon="insert_drive_file",this.fileType="Document",this.file=this.fileName()},computed:{customUrl:function(){return this.url}}}),Ma=qa,Ba=Object(Q["a"])(Ma,Ea,Ia,!1,null,null,null),Ta=Ba.exports,La={name:"new",components:{Heading:ke,AditionalMaterial:Ta,Date:Te},data:function(){return{playerVars:{autoplay:0,modestbranding:1,rel:0,enablejsapi:1,playsinline:1,fs:0},currentCollapse:0,loading:!1,data:{date:"",heading:{level:"h1",title:""},file:"hola.mp4",files:[],featured_img:null,post_intro:"",post_content:"",post_gallery:[],links:[]},documents:{heading:{title:"Material adicional"},data:[]},related:{heading:{title:this.$route.meta.related},data:[]}}},created:function(){this.$store.commit("set_title",this.$route.meta.label)},mounted:function(){var t=this;this.loading=!0,this.getNewData().then((function(e){t.populateData(e)})).then((function(){t.loading=!1})),window.cordova&&(window.open=window.cordova.InAppBrowser.open)},watch:{$route:function(){var t=this;this.loading=!0,this.resetNewData(),this.getNewData().then((function(e){t.populateData(e)})).then((function(){t.loading=!1}))}},computed:Object(i["a"])({},Object(k["b"])(["fontSize"])),methods:{getNewData:function(){var t=this;return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ba(t.$route.params.slug);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))()},resetNewData:function(){this.data={date:"",heading:{level:"h1",title:""},featured_img:null,post_intro:"",post_content:"",post_gallery:[],links:[]},this.related={heading:{title:this.$route.meta.related},data:[]}},openLink:function(t){return window.open(t.url,"_system"),!1},relatedUrl:function(t){return"/beneficios/".concat(t)},populateData:function(t){var e=t.data,a=t.related||t.releases||"";this.data.date=e.date,this.data.heading.title=e.title,this.data.featured_img=e.featured_img,this.data.post_intro=e.post_intro||e.description,this.data.post_content=e.post_content,this.data.video=e.video,this.data.links=e.links,this.data.file=e.file,this.data.files=e.files?e.files:[],this.documents.data=e.documents?e.documents:[],a&&(this.related.data=a.data),this.$nextTick((function(){setTimeout((function(){var t=document.querySelectorAll(".new a");t.forEach((function(t){var e=t.getAttribute("href");t.addEventListener("click",(function(t){return t.preventDefault(),window.open(e,"_system"),!1}))}))}),100)}))},changeAccordion:function(t,e){return"undefined"!==typeof e.url?this.openLink(e):this.currentCollapse===t?(this.currentCollapse=1e3,t):(this.currentCollapse=t,t)}}},Fa=La,Va=Object(Q["a"])(Fa,Da,Na,!1,null,null,null),Ha=Va.exports,Ra=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--releases"},[a("section",{staticClass:"section pt-9"},[a("div",{staticClass:"red-shape"}),a("div",{staticClass:"container position-relative pt-7"},[a("page-nav",{staticClass:"mb-7",attrs:{data:t.menu,color:"light"}}),t.releases.data.length&&!t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.releases.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,url:"/ofertas/"+t.slug,theme:"red"}})],1)})),0),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":t.pagination.finish},attrs:{disabled:t.pagination.finish,label:t.pagination.finish?"No hay más ofertas":"Cargar más",loading:t.loading,theme:"red"},on:{"handle-infinite":t.getMoreNews}})],1)]):t.releases.data.length||t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-danger mb-4 pt-5"},[t._v("error")]),a("h3",{staticClass:"title title--s text-danger"},[t._v(" No hay ofertas publicadas ")])])],1)])])},za=[],Ua={name:"home",components:{PageNav:at,PostCard:He,InfiniteButton:lt},data:function(){return{loading:!1,defaultLoadingItems:5,menu:[{label:"Comunicados",url:"/comunicados"},{label:"Ofertas laborales",url:"/ofertas"}],releases:{data:[]},pagination:{finish:!1,page:1}}},created:function(){this.$store.commit("set_title","Ofertas Laborales")},mounted:function(){this.getItems()},methods:{getItems:function(){var t=this;this.pagination.finish||(this.loading=!0,this.getApiData(this.pagination).then(this.checkNextPage).then(this.populateData).then((function(){t.loading=!1})))},checkNextPage:function(t){return this.pagination.finish=!t.posts.next_page_url,t},populateData:function(t){var e=t.posts.data;return this.releases.data=1===this.pagination.page?e:this.releases.data.concat(e),t},getMoreNews:function(){this.pagination.page+=1,this.getItems()},getApiData:function(){var t=arguments;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,da(a);case 3:return i=e.sent,e.abrupt("return",i.data.data);case 5:case"end":return e.stop()}}),e)})))()}}},Ja=Ua,Ga=Object(Q["a"])(Ja,Ra,za,!1,null,null,null),Qa=Ga.exports,Ya=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--services"},[a("section",{staticClass:"section pt-9"},[a("div",{staticClass:"green-shape"}),a("div",{staticClass:"container position-relative pt-7"},[a("heading",{attrs:{data:t.heading,color:"light"}}),a("div",{staticClass:"mt-7"},[a("div",{staticClass:"mb-5 last"},[a("router-link",{staticClass:"button button--section button--big button--orange",attrs:{to:t.salaryUrl,disabled:"default"===t.checkedTerms}},[a("i",{staticClass:"button__icon material-icons"},[t._v(" monetization_on ")]),a("span",{staticClass:"button__text"},[t._v(" Liquidaciones de sueldo ")])])],1),a("div",{staticClass:"mb-5 last"},[a("router-link",{staticClass:"button button--section button--big button--purple",attrs:{to:"/certificados"}},[a("i",{staticClass:"button__icon material-icons"},[t._v(" folder_open ")]),a("span",{staticClass:"button__text"},[t._v(" Certificados ")])])],1)])],1)])])},Za=[],Ka=function(){return wo.get("/user/service/term")},Wa=function(){return wo.get("/service/terms")},Xa=function(){return wo.put("/user/service/term")},ti=function(){return wo.get("/service/settlements")},ei=function(t){return wo.get("/service/current/settlement",{params:t})},ai={name:"services",components:{Heading:ke},data:function(){return{loading:!1,heading:{label:"Estás viendo",title:"Servicios"},checkedTerms:"default"}},created:function(){this.$store.commit("set_title","Servicios")},mounted:function(){this.checkIfUserAcceptSalaryTerms()},computed:{salaryUrl:function(){return this.checkedTerms?"/liquidaciones-de-sueldo":"/servicios/terminos-y-condiciones"}},methods:{checkIfUserAcceptSalaryTerms:function(){var t=this;this.loading=!0,this.checkTerms().then((function(e){t.checkedTerms=e.is_termn})).catch((function(){t.$toasted.show("No hemos podido verificar si aceptaste los términos y condiciones para ver tus liquidaciones online.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},checkTerms:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ka();case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()}}},ii=ai,si=Object(Q["a"])(ii,Ya,Za,!1,null,null,null),ni=si.exports,oi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--terms"},[a("section",{staticClass:"section pt-0"},[a("header",{staticClass:"background-green pt-header text-center"},[a("div",{staticClass:"container pt-5 pb-6"},[a("heading",{attrs:{data:t.heading,color:"light"}})],1)]),a("div",{staticClass:"terms"},[a("div",{staticClass:"container pt-6"},[a("h3",{staticClass:"title"},[a("i",{staticClass:"material-icons"},[t._v(t._s(t.data.heading.icon))]),t._v(" "+t._s(t.data.heading.title)+" ")]),a("div",{staticClass:"text mt-6"},[a("ol",{staticClass:"terms__list"},t._l(t.data.terms,(function(e,i){return a("li",{key:i,staticClass:"terms__item"},[a("p",[t._v(t._s(e.name))])])})),0)]),a("hr",{staticClass:"mb-7 mt-6"}),a("div",{staticClass:"text-center"},[a("button",{staticClass:"button button--primary button--orange button--columns w-100",on:{click:function(e){return t.handleAcceptTerms()}}},[a("span",{staticClass:"button__text"},[t._v("Sí, acepto los términos y condiciones")]),a("i",{staticClass:"button__icon material-icons"},[t._v("arrow_forward")])])])])])])])},ri=[],li={name:"salaty-terms",components:{Heading:ke},data:function(){return{loading:!1,heading:{title:"¿Quieres recibir tu liquidación en tu celular?"},data:{heading:{icon:"format_list_bulleted",title:"Términos y condiciones"},terms:[]}}},created:function(){this.$store.commit("set_title","Términos y condiciones")},mounted:function(){this.$store.state.user.is_termn_service&&this.$router.go(-1),this.getTerms()},methods:{getTerms:function(){var t=this;this.loading=!0,this.getTermsData().then((function(e){t.data.terms=e.name})).catch((function(t){return t})).then((function(){t.loading=!1}))},handleAcceptTerms:function(){var t=this;this.loading=!0,this.acceptTerms().then((function(e){var a={user:e};t.$store.commit("auth_complete",a),ie()({icon:"success",title:"Cambio de modalidad de entrega de liquidaciones exitoso",button:"Revisar liquidaciones"}).then((function(){t.$router.push("/liquidaciones-de-sueldo")}))})).catch((function(){t.$toasted.show("Ha ocurrido un problema mientras intentabamos procesar tu solicitud, por favor intentalo nuevamente.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},getTermsData:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wa();case 2:return e=t.sent,t.abrupt("return",e.data.data);case 4:case"end":return t.stop()}}),t)})))()},acceptTerms:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xa();case 2:return e=t.sent,t.abrupt("return",e.data.data);case 4:case"end":return t.stop()}}),t)})))()}}},ci=li,ui=Object(Q["a"])(ci,oi,ri,!1,null,null,null),di=ui.exports,mi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--salary-settlements"},[a("section",{staticClass:"section pt-header"},[a("div",{staticClass:"container position-relative pt-7"},[a("div",[a("div",{staticClass:"mb-5 last"},[a("button",{staticClass:"button button--section button--orange button--left",on:{click:t.getLastSettlement}},[a("i",{staticClass:"button__icon material-icons"},[t._v("monetization_on")]),a("span",{staticClass:"button__text"},[t._v("Liquidación vigente")]),t.data?a("span",{staticClass:"button__label text-capitalize"},[t._v(" "+t._s(t.data.current_date)+" ")]):t._e()])]),a("div",{staticClass:"mb-5 last"},[a("button",{staticClass:"button button--section button--orange button--left",on:{click:t.getLatestSettlements}},[a("i",{staticClass:"button__icon material-icons"},[t._v("monetization_on")]),a("span",{staticClass:"button__text"},[t._v("3 últimas liquidaciones")]),t.data?a("span",{staticClass:"button__label text-capitalize"},[t._v(" "+t._s(t.data.latest_settlements.from)+" - "+t._s(t.data.latest_settlements.up)+" ")]):t._e()])]),a("div",{staticClass:"mb-5 last"},[a("button",{staticClass:"button button--section button--orange button--left",on:{click:function(e){return t.$bvModal.show("bv-modal-example")}}},[a("i",{staticClass:"button__icon material-icons"},[t._v("monetization_on")]),a("span",{staticClass:"button__text"},[t._v("Selecciona otras liquidaciones")])])])])])]),a("b-modal",{attrs:{id:"bv-modal-example",centered:"","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" ¿Qué liquidación estás buscando? ")]},proxy:!0}])},[a("div",[a("p",[t._v("Seleccionar el mes y año que estás buscando:")]),a("hr"),a("ValidationObserver",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[a("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),i(t.getSpecificSettlement)}}},[a("fieldset",{staticClass:"form__item"},[a("div",{staticClass:"form__fields"},[a("ValidationProvider",{staticClass:"form-group",attrs:{name:"mes",rules:"required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label",attrs:{for:"month"}},[t._v(" Mes ")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons text-primary"},[t._v("date_range")]),a("div",{staticClass:"form-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.month,expression:"month"}],class:["form-control",i],attrs:{id:"month",name:"month"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.month=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Selecciona mes")]),a("option",{attrs:{value:"01"}},[t._v("Enero")]),a("option",{attrs:{value:"02"}},[t._v("Febrero")]),a("option",{attrs:{value:"03"}},[t._v("Marzo")]),a("option",{attrs:{value:"04"}},[t._v("Abril")]),a("option",{attrs:{value:"05"}},[t._v("Mayo")]),a("option",{attrs:{value:"06"}},[t._v("Junio")]),a("option",{attrs:{value:"07"}},[t._v("Julio")]),a("option",{attrs:{value:"08"}},[t._v("Agosto")]),a("option",{attrs:{value:"09"}},[t._v("Septiembre")]),a("option",{attrs:{value:"10"}},[t._v("Octubre")]),a("option",{attrs:{value:"11"}},[t._v("Noviembre")]),a("option",{attrs:{value:"12"}},[t._v("Diciembre")])])])]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)}),a("ValidationProvider",{staticClass:"form-group",attrs:{name:"año",rules:"required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.classes,s=e.errors;return[a("label",{staticClass:"form-label",attrs:{for:"year"}},[t._v(" Año ")]),a("div",{class:["form-wrapper",i]},[a("i",{staticClass:"form-icon material-icons text-primary"},[t._v("date_range")]),a("div",{staticClass:"form-select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.year,expression:"year"}],class:["form-control",i],attrs:{id:"year",name:"year"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.year=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("Selecciona año")]),t._l(t.yearsSelect,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)])]),s.length?a("small",{staticClass:"form-helper"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)})],1),a("div",{staticClass:"form__submit"},[a("infinite-button",{class:{"button--finish":t.loading},attrs:{disabled:t.loading,label:t.loading?"Generando liquidación...":"Ver liquidación",loading:t.loading,icon:"arrow_forward",type:"submit"}})],1)])])]}}])})],1)])],1)},pi=[],fi={name:"salary-settlements",components:{InfiniteButton:lt},data:function(){return{loading:!1,data:null,month:"",year:""}},created:function(){this.$store.commit("set_title","Liquidaciones de Sueldo")},mounted:function(){this.$store.state.user.is_termn_service||this.$router.push({name:"salary-terms"}),this.getMonths()},computed:{yearsSelect:function(){for(var t=[],e=2018,a=(new Date).getFullYear(),i=a;i>=e;i-=1)t.push(i);return t}},methods:{getMonths:function(){var t=this;this.loading=!0,this.getSalaryMonthsData().then((function(e){t.data=e})).catch((function(){t.$toasted.show("Ha ocurrido un problema mientras intentabamos obtener la información.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},getLastSettlement:function(){this.$router.push({path:"liquidaciones-de-sueldo/liquidacion",query:{type:1}})},getLatestSettlements:function(){this.$router.push({path:"liquidaciones-de-sueldo/ultimas"})},getSpecificSettlement:function(){this.$router.push({path:"liquidaciones-de-sueldo/liquidacion",query:{period:this.year+this.month,type:2}})},getSalaryMonthsData:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ti(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))()}}},hi=fi,vi=Object(Q["a"])(hi,mi,pi,!1,null,null,null),_i=vi.exports,gi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--salary-settlements"},[a("section",{staticClass:"section pt-header"},[a("div",{staticClass:"container position-relative pt-7"},[t.data.length?a("div",t._l(t.data,(function(e){return a("div",{key:e.id,staticClass:"mb-5 last"},[a("post-card",{staticClass:"post-card--salary",attrs:{data:e,theme:"orange"},nativeOn:{click:function(a){return t.goToSalarySettlement(e.period,2)}}})],1)})),0):a("div",[a("div",t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)])])])])},bi=[],Ci={name:"salary-settlements",components:{PostCard:He},data:function(){return{data:[],defaultLoadingItems:3,loading:!1,params:{type:3}}},created:function(){this.$store.commit("set_title","3 Últimas Liquidaciones")},mounted:function(){this.$store.state.user.is_termn_service||this.$router.push({name:"salary-terms"}),this.getSalarySettlements()},methods:{getSalarySettlements:function(){var t=this;this.loading=!0,this.getSalarySettlementsData(this.params).then((function(e){t.data=t.data.concat(e)})).catch((function(){t.$toasted.show("No hemos podido obtener tus últimas liquidaciones.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},goToSalarySettlement:function(t,e){this.$router.push({path:"/liquidaciones-de-sueldo/liquidacion",query:{period:t,type:e}})},getSalarySettlementsData:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ei(t);case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})))()}}},wi=Ci,yi=Object(Q["a"])(wi,gi,bi,!1,null,null,null),xi=yi.exports,ki=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view view--salary-settlements"},[i("section",{staticClass:"section pt-header"},[i("div",{staticClass:"pdf-single pdf-single--salary container position-relative pt-7"},[t.loading?i("div",[i("div",{staticClass:"integrito-loading"},[i("img",{staticClass:"img-fluid",attrs:{src:a("f69c"),alt:"Integrito"}})])]):i("div",[t.pdfFile?i("div",[t._m(0),i("div",{staticClass:"pdf-single__bar mb-6"},[i("button",{staticClass:"pdf-single__button button",on:{click:t.openPdf}},[i("i",{staticClass:"button__icon material-icons"},[t._v("file_download")]),i("span",{staticClass:"button__text"},[t._v("Descarga liquidación")])]),i("button",{staticClass:"pdf-single__button button",on:{click:function(e){t.openEmail=!t.openEmail}}},[i("i",{staticClass:"button__icon material-icons"},[t._v("email")]),i("span",{staticClass:"button__text"},[t._v("Enviar por correo")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.openEmail,expression:"openEmail"}],staticClass:"pdf-single__email mb-6"},[i("ValidationObserver",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[i("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),a()}}},[i("fieldset",{staticClass:"form__item"},[i("div",{staticClass:"form__fields"},[i("ValidationProvider",{staticClass:"form-group",attrs:{name:"correo",rules:"required|email|max:100",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.classes,s=e.errors;return[i("label",{staticClass:"form-label sr-only",attrs:{for:"email"}},[i("i",{staticClass:"material-icons"},[t._v("mail_outline")]),t._v(" Correo al que desea enviar: ")]),i("div",{class:["form-editing",a]},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:["form-control",a],attrs:{type:"email",id:"email",name:"email",placeholder:"Ingrese el correo"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),i("div",{staticClass:"text-center"},[i("button",{staticClass:"button button--icon button--circle button--blue m-0",class:{"button--loading":t.loadingIcon},attrs:{disabled:t.loadingIcon||!!s.length,type:"button"},on:{click:function(e){return t.getSalarySettlement(!0)}}},[i("i",{staticClass:"button__icon material-icons m-0"},[t._v(" "+t._s(t.loadingIcon?"refresh":"send")+" ")])]),i("span",{staticClass:"form-editing__label text-uppercase text-primary"},[t._v(" Enviar ")])])]),s.length?i("small",{staticClass:"form-helper"},[i("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)})],1)])])]}}],null,!1,2908344149)})],1),i("div",{staticClass:"pdf-single__viewer"},[i("iframe",{attrs:{src:"https://docs.google.com/viewer?&embedded=true&url="+t.pdfFile,scrolling:"no",frameborder:"0"}}),i("div",{staticStyle:{width:"80px",height:"80px",position:"absolute",opacity:"0",right:"0px",top:"0px"}},[t._v("   ")])])]):i("div",{staticClass:"empty text-center px-4 py-6"},[i("i",{staticClass:"material-icons text-danger mb-4"},[t._v("error")]),i("h3",{staticClass:"title title--s"},[t._v(" Liquidación no disponible ")])])])])])])},Oi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pdf-single__info mb-6"},[a("i",{staticClass:"material-icons"},[t._v("info")]),a("p",[t._v("Acabamos de enviar tu liquidación de sueldo a tu correo corporativo y personal")])])}],$i={name:"salary",data:function(){return{loading:!1,loadingIcon:!1,params:null,pdfFile:"",openEmail:!1,email:""}},created:function(){this.$store.commit("set_title","Liquidación"),this.params=this.$route.query},mounted:function(){this.$store.state.user.is_termn_service||this.$router.push({name:"salary-terms"}),this.getSalarySettlement(),window.cordova&&(window.open=window.cordova.InAppBrowser.open)},methods:{getSalarySettlement:function(t){var e=this;t?this.loadingIcon=!0:this.loading=!0;var a=this.params;a.email=this.email,this.getSalarySettlementData(a).then((function(a){t?(e.$toasted.show("Hemos enviado la liquidación al correo: ".concat(e.email),{theme:"outline",position:"bottom-center",duration:7e3,className:"success"}),e.email="",e.openEmail=!1):(a.title&&e.$store.commit("set_title","Liquidación ".concat(a.title)),e.pdfFile=a.file)})).catch((function(){t&&e.$toasted.show("Lo sentimos, no hemos podido mandar la liquidación al correo.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t?e.loadingIcon=!1:e.loading=!1}))},openPdf:function(){return window.open(this.pdfFile,"_system"),!1},getSalarySettlementData:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ei(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))()}}},ji=$i,Pi=Object(Q["a"])(ji,ki,Oi,!1,null,null,null),Si=Pi.exports,Ai=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--certificates"},[a("section",{staticClass:"section pt-header"},[a("div",{staticClass:"container position-relative pt-7"},[a("div",[t.data.length?a("div",t._l(t.data,(function(t){return a("div",{key:t.slug,staticClass:"mb-5 last"},[a("section-button",{staticClass:"button--left",attrs:{data:t}})],1)})),0):t.data.data.length||t.loading?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-danger mb-4 pt-5"},[t._v("error")]),a("h3",{staticClass:"title title--s text-danger"},[t._v(" No hay comunicados publicados ")])])])])])])},Di=[],Ni={name:"certificates",components:{SectionButton:Ae,PostCard:He},data:function(){return{defaultLoadingItems:5,loading:!1,data:[]}},created:function(){this.$store.commit("set_title","Certificados")},mounted:function(){var t=this;this.loading=!0,this.getCertificates().then((function(e){t.data=e.data.button.data})).finally((function(){t.loading=!1}))},methods:{getCertificates:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,me();case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()}}},Ei=Ni,Ii=Object(Q["a"])(Ei,Ai,Di,!1,null,null,null),qi=Ii.exports,Mi=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--terms"},[a("section",{staticClass:"section pt-0"},[a("header",{staticClass:"background-purple pt-header text-center"},[a("div",{staticClass:"container pt-5 pb-6"},[a("heading",{attrs:{data:t.heading,color:"light"}})],1)]),a("div",{staticClass:"terms"},[a("div",{staticClass:"container pt-6"},[t._m(0),a("hr",{staticClass:"mb-7 mt-6"}),a("div",{staticClass:"mt-6"},t._l(t.reasons,(function(e){return a("div",{key:e.code,staticClass:"reason-bullet mb-5 last",class:{"reason-bullet--selected":t.selectedReason===e.code},on:{click:function(a){t.selectedReason=e.code}}},[a("span",{staticClass:"reason-bullet__circle"}),a("span",{staticClass:"reason-bullet__label"},[t._v(t._s(e.label))])])})),0),a("div",{staticClass:"text-center mt-7"},[a("button",{staticClass:"button button--primary button--purple",attrs:{disabled:!t.selectedReason},on:{click:function(e){return t.setReason()}}},[a("span",{staticClass:"button__text"},[t._v("Generar certificado")]),a("i",{staticClass:"button__icon material-icons"},[t._v("arrow_forward")])])])])])])])},Bi=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center"},[a("p",[t._v(" Para generar un certificado con otra razón, debes realizar el proceso por separado ")])])}],Ti={name:"configure-certificate",components:{Heading:ke},data:function(){return{loading:!1,heading:{title:"Selecciona una razón para obtener tu certificado"},reasons:[{code:1,label:"Fines que Estime Conveniente"},{code:2,label:"Caja de Compensación y Asignación Familiar"},{code:3,label:"Sistema Financiero"},{code:4,label:"Cobrar Asignación Familiar"},{code:5,label:"Educación Superior"}],selectedReason:""}},created:function(){this.$store.commit("set_title","Configura tu Certificado")},methods:{setReason:function(){this.$router.push({path:"/certificados/certificado",query:{type:this.$route.query.type,action:this.selectedReason}})}}},Li=Ti,Fi=Object(Q["a"])(Li,Mi,Bi,!1,null,null,null),Vi=Fi.exports,Hi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view view--salary-settlements"},[i("section",{staticClass:"section pt-header"},[i("div",{staticClass:"pdf-single pdf-single--certificate container position-relative pt-7"},[t.loading?i("div",[i("div",{staticClass:"integrito-loading"},[i("img",{staticClass:"img-fluid",attrs:{src:a("f69c"),alt:"Integrito"}})])]):i("div",[t.pdfFile?i("div",[t._m(0),i("div",{staticClass:"pdf-single__bar mb-6"},[i("button",{staticClass:"pdf-single__button button",on:{click:t.openPdf}},[i("i",{staticClass:"button__icon material-icons"},[t._v("file_download")]),i("span",{staticClass:"button__text"},[t._v("Descarga certificado")])]),i("button",{staticClass:"pdf-single__button button",on:{click:function(e){t.openEmail=!t.openEmail}}},[i("i",{staticClass:"button__icon material-icons"},[t._v("email")]),i("span",{staticClass:"button__text"},[t._v("Enviar por correo")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.openEmail,expression:"openEmail"}],staticClass:"pdf-single__email mb-6"},[i("ValidationObserver",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[i("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),a()}}},[i("fieldset",{staticClass:"form__item"},[i("div",{staticClass:"form__fields"},[i("ValidationProvider",{staticClass:"form-group",attrs:{name:"correo",rules:"required|email|max:100",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.classes,s=e.errors;return[i("label",{staticClass:"form-label sr-only",attrs:{for:"email"}},[i("i",{staticClass:"material-icons"},[t._v("mail_outline")]),t._v(" Correo al que desea enviar: ")]),i("div",{class:["form-editing",a]},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:["form-control",a],attrs:{type:"email",id:"email",name:"email",placeholder:"Ingrese el correo"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),i("div",{staticClass:"text-center"},[i("button",{staticClass:"button button--icon button--circle button--blue m-0",class:{"button--loading":t.loadingIcon},attrs:{disabled:t.loadingIcon||!!s.length,type:"button"},on:{click:function(e){return t.showCertificate(!0)}}},[i("i",{staticClass:"button__icon material-icons m-0"},[t._v(" "+t._s(t.loadingIcon?"refresh":"send")+" ")])]),i("span",{staticClass:"form-editing__label text-uppercase text-primary"},[t._v(" Enviar ")])])]),s.length?i("small",{staticClass:"form-helper"},[i("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)})],1)])])]}}],null,!1,3389844172)})],1),i("div",{staticClass:"pdf-single__viewer"},[i("iframe",{attrs:{src:"https://docs.google.com/viewer?&embedded=true&url="+t.pdfFile,scrolling:"no",frameborder:"0"}}),i("div",{staticStyle:{width:"80px",height:"80px",position:"absolute",opacity:"0",right:"0px",top:"0px"}},[t._v("   ")])])]):i("div",{staticClass:"empty text-center px-4 py-6"},[i("i",{staticClass:"material-icons text-danger mb-4"},[t._v("error")]),i("h3",{staticClass:"title title--s"},[t._v(" Certificado no disponible ")])])])])])])},Ri=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pdf-single__info mb-6"},[a("i",{staticClass:"material-icons"},[t._v("info")]),a("p",[t._v("Acabamos de enviar tu certificado de sueldo a tu correo corporativo y personal")])])}],zi=function(t){return wo.get("/certificate",{params:t})},Ui=function(){return wo.get("/certificados/renta-1887")},Ji={name:"salary",data:function(){return{loading:!1,loadingIcon:!1,params:null,pdfFile:"",openEmail:!1,email:""}},created:function(){this.$store.commit("set_title","Certificado"),this.params=this.$route.query},mounted:function(){this.showCertificate(),window.cordova&&(window.open=window.cordova.InAppBrowser.open)},methods:{showCertificate:function(t){var e=this;t?this.loadingIcon=!0:this.loading=!0;var a=this.params;a.email=this.email,this.getCertificateData(a).then((function(a){t?(e.$toasted.show("Hemos enviado el certificado al correo: ".concat(e.email),{theme:"outline",position:"bottom-center",duration:7e3,className:"success"}),e.email="",e.openEmail=!1):(a.title&&e.$store.commit("set_title","Certificado de ".concat(a.title)),e.pdfFile=a.file)})).catch((function(){t&&e.$toasted.show("Lo sentimos, no hemos podido mandar el certificado al correo.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t?e.loadingIcon=!1:e.loading=!1}))},openPdf:function(){return window.open(this.pdfFile,"_system"),!1},getCertificateData:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,zi(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))()}}},Gi=Ji,Qi=Object(Q["a"])(Gi,Hi,Ri,!1,null,null,null),Yi=Qi.exports,Zi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view view--salary-settlements"},[i("section",{staticClass:"section pt-header"},[i("div",{staticClass:"pdf-single pdf-single--certificate container position-relative pt-7"},[t.loading?i("div",[i("div",{staticClass:"integrito-loading"},[i("img",{staticClass:"img-fluid",attrs:{src:a("f69c"),alt:"Integrito"}})])]):i("div",[t.data?i("div",{staticClass:"certificate-box"},[t.data.title?i("h3",{staticClass:"certificate-box__title title text-center"},[t._v(t._s(t.data.title))]):t._e(),i("hr",{staticClass:"my-7"}),t.data.text?i("div",{staticClass:"certificate-box__text text-center",domProps:{innerHTML:t._s(t.data.text)}}):t._e(),t.data.button?i("div",{staticClass:"certificate-box__button mt-8"},[i("a",{staticClass:"button button--primary button--purple button--stext w-100",attrs:{href:t.data.button.url,download:""}},[i("span",{staticClass:"button__text"},[t._v(t._s(t.data.button.label))])])]):t._e(),i("div",{staticClass:"pdf-single__viewer mt-6"},[i("iframe",{attrs:{src:"https://docs.google.com/viewer?&embedded=true&url="+t.data.button.url,scrolling:"no",frameborder:"0"}}),i("div",{staticStyle:{width:"80px",height:"80px",position:"absolute",opacity:"0",right:"0px",top:"0px"}},[t._v("   ")])])]):i("div",{staticClass:"empty text-center px-4 py-6"},[i("i",{staticClass:"material-icons text-danger mb-4"},[t._v("error")]),i("h3",{staticClass:"title title--s"},[t._v(" Certificado de renta 1887 no disponible ")])])])])])])},Ki=[],Wi={name:"rent1887",data:function(){return{loading:!1,data:null}},created:function(){this.$store.commit("set_title","Certificado")},mounted:function(){this.getRentData(),window.cordova&&(window.open=window.cordova.InAppBrowser.open)},methods:{getRentData:function(){var t=this;this.loading=!0,this.getRent1887Data().then((function(e){t.data=e?{title:e.data.title_certificate,text:e.data.description_certificate,button:{label:e.data.label_button,url:e.file}}:null})).then((function(){t.loading=!1}))},openPdf:function(t){"undefined"!==typeof t&&(window.location=t)},getRent1887Data:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ui();case 3:e=t.sent,e=e.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e=null;case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},Xi=Wi,ts=Object(Q["a"])(Xi,Zi,Ki,!1,null,null,null),es=ts.exports,as=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view view--single view--new"},[i("article",{key:t.data.slug,staticClass:"new section pt-9"},[i("div",{staticClass:"container pt-7"},[t.loading?i("div",[i("div",{staticClass:"integrito-loading"},[i("img",{staticClass:"img-fluid",attrs:{src:a("f69c"),alt:"Integrito"}})])]):i("div",[i("date",{staticClass:"new__date mb-5",attrs:{date:t.data.date}}),i("heading",{attrs:{data:t.data.heading}}),t.data.featured_img?i("figure",{staticClass:"mt-6 mb-7"},[i("img",{staticClass:"img-fluid rounded shadow w-100",attrs:{src:t.data.featured_img.src,alt:t.data.featured_img.alt}})]):t._e(),i("div",{style:{fontSize:t.fontSize+"rem"}},[t.data.post_intro?i("div",{staticClass:"new__intro text text--font-inherit mb-4",domProps:{innerHTML:t._s(t.data.post_intro)}}):t._e(),t.data.post_content?i("div",{staticClass:"new__text text text--font-inherit mb-7",domProps:{innerHTML:t._s(t.data.post_content)}}):t._e(),t.data.video?i("div",{staticClass:"embed-responsive"},[i("youtube",{ref:"items",attrs:{"video-id":t.data.video,"player-vars":t.playerVars}})],1):t._e(),t.data.links&&t.data.links.length?i("div",{staticClass:"new__links"},t._l(t.data.links,(function(e,a){return i("div",{key:a},[i("span",{staticClass:"button button--link button--blue",on:{click:function(a){return t.inTheSame(e)}}},[i("i",{staticClass:"button__icon material-icons"},[t._v(t._s(e.icon))]),i("span",{staticClass:"button__text"},[t._v(t._s(e.label||"Ver enlace"))])])])})),0):t._e()])],1)])]),t.loading?t._e():i("div",[t.documents.data.length?i("section",{staticClass:"section section--lighter"},[i("div",{staticClass:"container"},[i("heading",{attrs:{data:t.documents.heading}}),i("div",{staticClass:"mt-5"},t._l(t.documents.data,(function(e,a){return i("div",{key:e.id,staticClass:"tutorial mb-5 last",class:{"tutorial--active":t.currentCollapse===a&&!e.url}},[i("header",{staticClass:"tutorial__header"},[i("h3",{staticClass:"tutorial__title title title--s"},[i("button",{staticClass:"tutorial__collapse button w-100",on:{click:function(i){return t.changeAccordion(a,e)}}},[i("i",{staticClass:"material-icons"},[t._v(t._s(e.icon))]),i("span",[t._v(t._s(e.title))])])])]),i("div",{staticClass:"tutorial__content"},[e.video?i("div",{staticClass:"onboarding__image"},[t.currentCollapse===a?i("div",{staticClass:"embed-responsive"},[i("youtube",{attrs:{"video-id":e.video,"player-vars":t.playerVars}})],1):t._e()]):t._e(),e.text?i("div",{staticClass:"px-4 py-5",domProps:{innerHTML:t._s(e.text)}}):t._e()])])})),0)],1)]):t._e(),t.benefist.data.length?i("section",{staticClass:"section pb-7",class:[t.documents.data.length?"section--light":"section--lighter"]},[i("div",{staticClass:"container"},[t._m(0),i("div",{staticClass:"mt-5"},t._l(t.benefist.data,(function(e){return i("div",{key:e.id,staticClass:"mb-5 last"},[i("post-card-benefist",{attrs:{data:e,url:t.relatedUrl(e.slug)}})],1)})),0)])]):t._e(),t.related.data.length?i("section",{staticClass:"section pb-7",class:[t.documents.data.length?"section--light":"section--lighter"]},[i("div",{staticClass:"container"},[i("heading",{attrs:{data:t.related.heading}}),i("div",{staticClass:"mt-5"},t._l(t.related.data,(function(e){return i("div",{key:e.id,staticClass:"mb-5 last"},[i("post-card",{attrs:{data:e,url:t.relatedUrl(e.slug),theme:"new"===t.$route.name?"blue":"red"}})],1)})),0)],1)]):t._e()])])},is=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"heading"},[a("h2",{staticClass:"title title--s mx-auto"},[t._v("Beneficios")])])}],ss=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5 last"},[a("article",{staticClass:"post-card post-card--icon post-card--red benefist_card"},[a("a",{attrs:{href:"#/beneficios/"+t.data.slug}},[a("div",{staticClass:"post-card__content "},[a("div",[a("p",{staticClass:"date post-card__date"},[a("i",{staticClass:"date__icon material-icons"},[t._v("access_time")]),a("span",{staticClass:"date__text"},[t._v(t._s(t.dateFormated))])]),a("h3",{staticClass:"post-card__title"},[t._v(" "+t._s(t.data.title)+" ")]),a("div",{staticClass:"post-card__button"},[a("a",{staticClass:"button button--icon button--red",attrs:{href:"#/beneficios/"+t.data.slug}},[a("i",{staticClass:"button__icon material-icons"},[t._v(" arrow_forward ")])])])])])])])])},ns=[],os=(a("4d90"),{name:"post-card",props:{data:{type:[Boolean,Object],default:!1},icon:{type:String,default:""},url:{type:String,default:""},loading:{type:Boolean,default:!1}},data:function(){return{dateFormated:null}},mounted:function(){var t=new Date(this.data.datetime),e=t.getFullYear(),a="".concat(t.getMonth()+1).padStart(2,"0"),i="".concat(t.getDate()).padStart(2,"0");this.dateFormated="".concat(i," ").concat(a," ").concat(e)},computed:{customUrl:function(){return this.url||this.data.url||""}}}),rs=os,ls=Object(Q["a"])(rs,ss,ns,!1,null,null,null),cs=ls.exports,us={name:"new",components:{Heading:ke,PostCard:He,Date:Te,PostCardBenefist:cs},data:function(){return{playerVars:{autoplay:0,modestbranding:1,rel:0,enablejsapi:1,playsinline:1,fs:0},currentCollapse:0,loading:!1,data:{date:"",heading:{level:"h1",title:""},featured_img:null,post_intro:"",post_content:"",post_gallery:[],media:[],links:[]},documents:{heading:{title:"Material adicional"},data:[]},related:{heading:{title:this.$route.meta.related},data:[]},benefist:{heading:{title:this.$route.meta.related},data:[]}}},created:function(){this.$store.commit("set_title",this.$route.meta.label)},mounted:function(){var t=this;this.loading=!0,this.getNewData().then((function(e){t.populateData(e)})).then((function(){t.loading=!1})),window.cordova&&(window.open=window.cordova.InAppBrowser.open)},watch:{$route:function(){var t=this;this.loading=!0,this.resetNewData(),this.getNewData().then((function(e){t.populateData(e)})).then((function(){t.loading=!1}))}},computed:Object(i["a"])({},Object(k["b"])(["fontSize"])),methods:{getNewData:function(){var t=this;return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,aa(t.$route.meta.api,t.$route.params.slug);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))()},resetNewData:function(){this.data={date:"",heading:{level:"h1",title:""},featured_img:null,post_intro:"",post_content:"",post_gallery:[],media:[],links:[]},this.related={heading:{title:this.$route.meta.related},data:[]}},openLink:function(t){return window.open(t.url,"_system"),!1},inTheSame:function(t){"_self"===t.target?this.$router.push(t.url):window.open(t.url,"_system")},relatedUrl:function(t){return"new"===this.$route.name?"/noticias/".concat(t):"/comunicados/".concat(t)},populateData:function(t){var e=t.data,a=t.related||t.releases||"";this.data.date=e.date,this.data.heading.title=e.title,this.data.featured_img=e.featured_img,this.data.post_intro=e.post_intro||e.description,this.data.post_content=e.post_content,this.data.post_gallery=e.post_gallery,this.data.media=e.media,this.data.video=e.video,this.data.links=e.links,this.documents.data=e.documents?e.documents:[],a&&(this.related.data=a.data),e.benefit_post&&(this.benefist.data=e.benefit_post),this.$nextTick((function(){setTimeout((function(){var t=document.querySelectorAll(".new a");t.forEach((function(t){var e=t.getAttribute("href");t.addEventListener("click",(function(t){return t.preventDefault(),window.open(e,"_system"),!1}))}))}),100)}))},changeAccordion:function(t,e){return"undefined"!==typeof e.url?this.openLink(e):this.currentCollapse===t?(this.currentCollapse=1e3,t):(this.currentCollapse=t,t)}}},ds=us,ms=Object(Q["a"])(ds,as,is,!1,null,null,null),ps=ms.exports,fs=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view view--single view--new"},[t.loading?i("div",{staticClass:"py-7"},[i("div",{staticClass:"integrito-loading py-10"},[i("img",{staticClass:"img-fluid",attrs:{src:a("f69c"),alt:"Integrito"}})])]):i("div",[t.iframe_url?i("div",[i("header",{staticClass:"background-green-dark pt-header text-center",style:"backgroundColor: "+t.shapeColor},[i("div",{staticClass:"container py-5"},[i("heading",{attrs:{data:t.heading,color:"light"}})],1)]),i("article",{staticClass:"new section"},[i("div",{staticClass:"container"},[i("div",{staticClass:"embed-survey"},[i("iframe",{attrs:{src:t.iframe_url,frameborder:"0"}})])])])]):i("div",[t._m(0)])])])},hs=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons mb-4 mt-8"},[t._v("error")]),a("h3",{staticClass:"title title--s"},[t._v(" No hay encuestas disponibles ")])])}],vs=function(t,e){return wo.get("/".concat(t,"/").concat(e))},_s=vs,gs={name:"SurveyMonkey",components:{Heading:ke},data:function(){return{loading:!1,heading:{title:""},iframe_url:""}},mounted:function(){var t=this;this.$store.commit("set_title",this.$route.meta.label),this.loading=!0,this.getSurveyData().then((function(e){t.heading.title=e.data.title,t.iframe_url=e.data.url_survey})).catch((function(){t.$toasted.show("No hemos podido obtener la encuesta",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},computed:{shapeColor:function(){var t="",e=this.$route.query.color;return"blue"===e&&(t="#3066B1"),"red"===e&&(t="#E2432A"),"green"===e&&(t="#73BB32"),"orange"===e&&(t="#EE7C00"),"purple"===e&&(t="#782D85"),"yellow"===e&&(t="#F5D445"),"skyblue"===e&&(t="#5DACDF"),t}},methods:{getSurveyData:function(){var t=this;return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_s(t.$route.meta.api,t.$route.params.id);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})))()}}},bs=gs,Cs=Object(Q["a"])(bs,fs,hs,!1,null,null,null),ws=Cs.exports,ys=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view view--profile"},[i("section",{staticClass:"section pt-0"},[i("header",{staticClass:"profile-header background-blue pt-header"},[i("div",{staticClass:"container py-3"},[i("div",{staticClass:"profile-header__content"},[i("figure",{staticClass:"profile-header__avatar"},[i("img",{staticClass:"img-fluid",attrs:{src:t.user.avatar||a("894b"),alt:t.userFullname}})]),i("p",{staticClass:"profile-header__name title title--s"},[t._v(t._s(t.userFullname))])])])]),i("div",{staticClass:"container pt-6"},[i("page-nav",{staticClass:"mb-7",attrs:{data:t.menu,color:"primary"}}),i("div",[i("ul",{staticClass:"m-0 p-0"},t._l(t.reviewData,(function(e){return i("li",{key:e.key,staticClass:"user-data"},[i("i",{staticClass:"user-data__icon material-icons"},[t._v(t._s(e.icon))]),i("p",{staticClass:"user-data__label"},[i("span",{staticClass:"d-block text-primary"},[t._v(t._s(e.label)+":")]),i("span",{staticClass:"text-uppercase"},[t._v(t._s(t.userDataValue(e)))])])])})),0)]),i("hr"),i("div",[i("ValidationObserver",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.handleSubmit;return[i("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),a(t.onSubmit)}}},[i("fieldset",{staticClass:"form__item"},[i("div",{staticClass:"form__fields"},[i("ul",{staticClass:"m-0 p-0"},[i("li",{staticClass:"user-data user-data--editable",class:{"user-data--editing":t.editPersonalEmail}},[t.editPersonalEmail?i("ValidationProvider",{staticClass:"form-group",attrs:{name:"correo",rules:"required|email|max:100|integra",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.classes,s=e.errors;return[i("label",{staticClass:"form-label",attrs:{for:"email"}},[i("i",{staticClass:"material-icons"},[t._v("mail_outline")]),t._v(" Correo personal: ")]),i("div",{class:["form-editing",a]},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:["form-control",a],attrs:{type:"email",id:"email",name:"email",placeholder:"mailejemplo@mail.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),i("div",{staticClass:"text-center"},[i("button",{staticClass:"button button--icon button--circle button--blue m-0",class:{"button--loading":t.loading},attrs:{disabled:t.loading||!!s.length,type:"button"},on:{click:t.handleChangePersonalData}},[i("i",{staticClass:"button__icon material-icons m-0"},[t._v(" "+t._s(t.loading?"refresh":"save")+" ")])]),i("span",{staticClass:"form-editing__label text-uppercase text-primary"},[t._v(" Guardar ")])])]),s.length?i("small",{staticClass:"form-helper"},[i("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)}):i("div",[i("i",{staticClass:"user-data__icon material-icons"},[t._v("mail_outline")]),i("p",{staticClass:"user-data__label"},[i("span",{staticClass:"d-block text-primary"},[t._v("Correo personal:")]),t._v(" "+t._s(t.user.personal_mail)+" ")]),i("button",{staticClass:"user-data__edit button button--icon button--circle button--blue",attrs:{type:"button"},on:{click:function(e){t.editPersonalEmail=!0}}},[i("i",{staticClass:"button__icon material-icons"},[t._v("edit")])])])],1),i("li",{staticClass:"user-data user-data--editable",class:{"user-data--editing":t.editPersonalPhone}},[t.editPersonalPhone?i("ValidationProvider",{staticClass:"form-group",attrs:{name:"correo",rules:"required|numeric|max:8",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.classes,s=e.errors;return[i("label",{staticClass:"form-label",attrs:{for:"email"}},[i("i",{staticClass:"material-icons"},[t._v("phone_iphone")]),t._v(" Teléfono: ")]),i("div",{staticClass:"form-wrapper form-editing"},[i("span",{staticClass:"form-prefix"},[t._v("+56 9")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],class:["form-control form-control--prefix",a],attrs:{type:"number",id:"phone",name:"phone",placeholder:"1234 5678"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),i("div",{staticClass:"text-center"},[i("button",{staticClass:"button button--icon button--circle button--blue m-0",class:{"button--loading":t.loading},attrs:{disabled:t.loading,type:"button"},on:{click:t.handleChangePersonalData}},[i("i",{staticClass:"button__icon material-icons m-0"},[t._v(" "+t._s(t.loading?"refresh":"save")+" ")])]),i("span",{staticClass:"form-editing__label text-uppercase text-primary"},[t._v(" Guardar ")])])]),s.length?i("small",{staticClass:"form-helper"},[i("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(s[0])+" ")]):t._e()]}}],null,!0)}):i("div",[i("i",{staticClass:"user-data__icon material-icons"},[t._v("phone_iphone")]),i("p",{staticClass:"user-data__label"},[i("span",{staticClass:"d-block text-primary"},[t._v("Teléfono:")]),t._v(" +569 "+t._s(t.user.phone)+" ")]),i("button",{staticClass:"user-data__edit button button--icon button--circle button--blue",attrs:{type:"button"},on:{click:function(e){t.editPersonalPhone=!0}}},[i("i",{staticClass:"button__icon material-icons"},[t._v("edit")])])])],1)])])])])]}}])})],1)],1)])])},xs=[],ks={name:"profile",components:{PageNav:at},data:function(){return{loading:!1,editPersonalEmail:!1,editPersonalPhone:!1,email:"",phone:"",menu:[{label:"Datos personales",url:"/perfil"},{label:"Preferencias",url:"/perfil/preferencias"}],reviewData:[]}},created:function(){this.$store.commit("set_title","Perfil"),"186645863"!==this.$store.state.user.rut&&(this.reviewData=[{key:"address",icon:"place",label:"Ubicación"},{key:"tipest",icon:"business",label:"Dependencia"},{key:"position",icon:"card_travel",label:"Cargo"},{key:"email",icon:"mail_outline",label:"Correo institucional"}])},computed:Object(i["a"])(Object(i["a"])({},Object(k["b"])(["user"])),{},{userFullname:function(){return"".concat(this.user.name," ").concat(this.user.surname)}}),methods:{handleChangePersonalData:function(){var t=this;this.loading=!0;var e={email:this.email||this.user.personal_mail,phone:this.phone||this.user.phone};this.$store.dispatch("complete",this.parseDataBeforeSend(e)).then((function(){t.editPersonalEmail=!1,t.editPersonalPhone=!1})).catch((function(e){var a="Lo sentimos, no hemos podido actualizar tus datos personales",i=e.response&&e.response.data&&e.response.data.data;i&&(a=i),t.$toasted.show(a,{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},parseDataBeforeSend:function(t){var e=new FormData;return Object.keys(t).forEach((function(a){return e.append(a,t[a])})),e},userDataValue:function(t){if("tipest"===t.key)switch(this.user[t.key]){case"C":return"Casa Central";case"R":return"Oficina Regional";case"E":return"Establecimientos";default:return""}return this.user[t.key]},updatePersonalData:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})))()}}},Os=ks,$s=Object(Q["a"])(Os,ys,xs,!1,null,null,null),js=$s.exports,Ps=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"view view--profile"},[i("section",{staticClass:"section pt-0"},[i("header",{staticClass:"profile-header background-blue pt-header"},[i("div",{staticClass:"container py-3"},[i("div",{staticClass:"profile-header__content"},[i("figure",{staticClass:"profile-header__avatar"},[i("img",{staticClass:"img-fluid",attrs:{src:t.user.avatar||a("894b"),alt:t.userFullname}})]),i("p",{staticClass:"profile-header__name title title--s"},[t._v(t._s(t.userFullname))])])])]),i("div",{staticClass:"container pt-6"},[i("page-nav",{staticClass:"mb-7",attrs:{data:t.menu,color:"primary"}}),i("div",[i("div",{staticClass:"d-flex flex-nowrap align-items-center justify-content-between"},[i("p",{staticClass:"m-0 mr-8 text-primary"},[t._v("Notificaciones de nueva liquidación.")]),i("div",{staticClass:"ml-4"},[i("switch-button",{on:{toggle:t.setPreferences},model:{value:t.data.is_notification_settlement,callback:function(e){t.$set(t.data,"is_notification_settlement",e)},expression:"data.is_notification_settlement"}})],1)]),i("hr"),i("div",{staticClass:"d-flex flex-nowrap align-items-center justify-content-between"},[i("p",{staticClass:"m-0 mr-8 text-primary"},[t._v("Notificaciones de nuevas noticias.")]),i("div",{staticClass:"ml-4"},[i("switch-button",{on:{toggle:t.setPreferences},model:{value:t.data.is_notification_new,callback:function(e){t.$set(t.data,"is_notification_new",e)},expression:"data.is_notification_new"}})],1)])])],1)])])},Ss=[],As=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"switch-button-control"},[a("div",{staticClass:"switch-button",class:{enabled:t.isEnabled},style:{"--color":t.color},on:{click:t.toggle}},[a("div",{staticClass:"button"})]),a("div",{staticClass:"switch-button-label"},[t._t("default")],2)])},Ds=[],Ns={model:{prop:"isEnabled",event:"toggle"},props:{isEnabled:Boolean,color:{type:String,required:!1,default:"#4D4D4D"}},methods:{toggle:function(){this.$emit("toggle",!this.isEnabled)}}},Es=Ns,Is=Object(Q["a"])(Es,As,Ds,!1,null,null,null),qs=Is.exports,Ms={name:"preferences",components:{PageNav:at,SwitchButton:qs},data:function(){return{loading:!1,data:{is_notification_settlement:V.state.user.is_notification_settlement,is_notification_new:V.state.user.is_notification_new,_method:"PUT"},menu:[{label:"Datos personales",url:"/perfil"},{label:"Preferencias",url:"/perfil/preferencias"}]}},created:function(){this.$store.commit("set_title","Perfil")},computed:Object(i["a"])(Object(i["a"])({},Object(k["b"])(["user"])),{},{userFullname:function(){return"".concat(this.user.name," ").concat(this.user.surname)}}),methods:{setPreferences:function(){var t=this;this.loading=!0,this.updatePersonalPreferences(this.parseDataBeforeSend(this.data)).then((function(e){t.$store.dispatch("oneSignalInit",e),t.$store.commit("set_user",e)})).catch((function(e){var a="Lo sentimos, no hemos podido actualizar tus datos personales",i=e.response&&e.response.data&&e.response.data.data;i&&(a=i),t.$toasted.show(a,{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1}))},parseDataBeforeSend:function(t){var e=new FormData;return Object.keys(t).forEach((function(a){return e.append(a,t[a])})),e},updatePersonalPreferences:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})))()}}},Bs=Ms,Ts=Object(Q["a"])(Bs,Ps,Ss,!1,null,null,null),Ls=Ts.exports,Fs=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--help section--lighter"},[a("section",{staticClass:"section pt-header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"py-7"},[a("page-nav",{attrs:{data:t.menu,color:"primary"}})],1),a("div",t._l(t.tutorials,(function(e,i){return a("article",{key:e.id,staticClass:"tutorial mb-5 last",class:{"tutorial--active":t.currentCollapse===i}},[a("header",{staticClass:"tutorial__header"},[a("h3",{staticClass:"tutorial__title title title--s"},[a("button",{staticClass:"tutorial__collapse button w-100",on:{click:function(e){return t.changeAccordion(i)}}},[a("i",{staticClass:"material-icons"},[t._v(t._s(e.icon))]),a("span",[t._v(t._s(e.title))])])])]),a("div",{staticClass:"tutorial__content"},[a("div",{staticClass:"onboarding__image"},[t.currentCollapse===i?a("div",{staticClass:"embed-responsive"},[a("youtube",{attrs:{"video-id":e.video,"player-vars":t.playerVars}})],1):t._e()]),e.text?a("div",{staticClass:"px-4 py-5",domProps:{innerHTML:t._s(e.text)}}):t._e()])])})),0)])])])},Vs=[],Hs={name:"tutorials",components:{PageNav:at},data:function(){return{currentCollapse:0,menu:[{label:"Tutoriales APP",url:"/mesa-de-ayuda/tutoriales"},{label:"Preguntas Frecuentes",url:"/mesa-de-ayuda/preguntas"},{label:"Contacto Directo",url:"/mesa-de-ayuda/contacto"}],tutorials:[],playerVars:{autoplay:0,modestbranding:1,rel:0,enablejsapi:1,playsinline:1,fs:0}}},created:function(){this.$store.commit("set_title","Ayuda")},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,this.getTutorialsData().then((function(e){t.tutorials=e.tutorial})).then((function(){t.loading=!1}))},changeAccordion:function(t){return this.currentCollapse===t?(this.currentCollapse=1e3,t):(this.currentCollapse=t,t)},getTutorialsData:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ut();case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()}}},Rs=Hs,zs=Object(Q["a"])(Rs,Fs,Vs,!1,null,null,null),Us=zs.exports,Js=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--help section--light"},[a("section",{staticClass:"section pt-header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"py-7"},[a("page-nav",{attrs:{data:t.menu,color:"primary"}})],1),a("div",t._l(t.questions,(function(e,i){return a("article",{key:e.id,staticClass:"tutorial mb-5 last",class:{"tutorial--active":t.currentCollapse===i}},[a("header",{staticClass:"tutorial__header"},[a("h3",{staticClass:"tutorial__title title title--s"},[a("button",{staticClass:"tutorial__collapse button w-100",on:{click:function(e){return t.changeAccordion(i)}}},[a("i",{staticClass:"material-icons"},[t._v(t._s(e.icon))]),a("span",[e.category?a("span",{staticClass:"tutorial__label d-block mb-2"},[t._v(" "+t._s(e.category)+" ")]):t._e(),t._v(" "+t._s(e.title)+" ")])])])]),a("div",{staticClass:"tutorial__content"},[a("div",{staticClass:"text px-4 pb-5"},[a("hr",{staticClass:"mt-0"}),e.video?a("div",{staticClass:"embed-responsive"},[a("youtube",{ref:"items",refInFor:!0,attrs:{"video-id":e.video,"player-vars":t.playerVars}})],1):t._e(),a("div",{domProps:{innerHTML:t._s(e.description)}})])])])})),0)])])])},Gs=[],Qs={name:"faq",components:{PageNav:at},data:function(){return{playerVars:{autoplay:0,modestbranding:1,rel:0,enablejsapi:1,playsinline:1,fs:0},currentCollapse:0,menu:[{label:"Tutoriales APP",url:"/mesa-de-ayuda/tutoriales"},{label:"Preguntas Frecuentes",url:"/mesa-de-ayuda/preguntas"},{label:"Contacto Directo",url:"/mesa-de-ayuda/contacto"}],questions:[]}},created:function(){this.$store.commit("set_title","Ayuda")},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,this.getFaqData().then((function(e){t.questions=e.questions})).then((function(){t.loading=!1}))},changeAccordion:function(t){return this.currentCollapse===t?(this.currentCollapse=1e3,t):(this.currentCollapse=t,t)},getFaqData:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Jt();case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()}}},Ys=Qs,Zs=(a("79b3"),Object(Q["a"])(Ys,Js,Gs,!1,null,"44254d2a",null)),Ks=Zs.exports,Ws=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--help section--light"},[a("section",{staticClass:"section pt-header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"py-7"},[a("page-nav",{attrs:{data:t.menu,color:"primary"}})],1),a("div",[a("p",{staticClass:"text-primary text-uppercase"},[t._v(t._s(t.data.intro))]),a("div",{staticClass:"mt-7"},t._l(t.data.contact,(function(e,i){return a("div",{key:i,staticClass:"contact-item mb-5 last"},[a("a",{staticClass:"contact-item__link",attrs:{href:e.value}},[a("div",{staticClass:"contact-item__content"},[a("i",{staticClass:"contact-item__icon material-icons"},[t._v(t._s(e.icon))]),a("div",{staticClass:"contact-item__info"},[a("p",{staticClass:"contact-item__title m-0"},[t._v(t._s(e.title))]),a("p",{staticClass:"contact-item__value m-0"},[t._v(t._s(e.label))])])])])])})),0)])])])])},Xs=[],tn={name:"contact",components:{PageNav:at},data:function(){return{menu:[{label:"Tutoriales APP",url:"/mesa-de-ayuda/tutoriales"},{label:"Preguntas Frecuentes",url:"/mesa-de-ayuda/preguntas"},{label:"Contacto Directo",url:"/mesa-de-ayuda/contacto"}],data:{intro:"",contact:[]}}},created:function(){this.$store.commit("set_title","Ayuda")},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.loading=!0,this.getContactData().then((function(e){t.data.intro=e.intro,t.data.contact=e.contact})).then((function(){t.loading=!1}))},getContactData:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Gt();case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))()}}},en=tn,an=Object(Q["a"])(en,Ws,Xs,!1,null,null,null),sn=an.exports,nn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--notifications"},[t.notifications.length?a("div",[a("section",{staticClass:"section pt-header background-turquoise"},t._l(t.notifications,(function(e,i){return a("div",{key:i},[a("header",{staticClass:"notifications__header background-turquoise"},[a("div",{staticClass:"container"},[a("p",{staticClass:"notifications__title"},[a("i",{staticClass:"material-icons"},[t._v("date_range")]),t._v(" "+t._s(e.title)+" ")])])]),a("div",{staticClass:"notifications__content container"},[a("div",{staticClass:"notifications__list"},t._l(e.notifications,(function(e,i){return a("div",{key:i,staticClass:"notification mb-5 last"},[a("div",{on:{click:function(a){return t.markAsRead(e)}}},[a("div",{staticClass:"notification__header"},[a("div",{staticClass:"notification__icon"},[a("i",{staticClass:"material-icons"},[t._v(t._s(e.icon))])]),a("h3",{staticClass:"notification__title"},[t._v(t._s(e.title))])]),a("div",{staticClass:"notification__content text",domProps:{innerHTML:t._s(e.text)}})])])})),0)])])})),0)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-header"},[t._m(0)])])},on=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"py-8 px-4"},[a("i",{staticClass:"material-icons mb-4"},[t._v("notifications")]),a("h3",{staticClass:"title title--s"},[t._v(" Todas las notificaciones han sido leídas ")])])}],rn=(a("07ac"),{name:"notifications",data:function(){return{loading:!1,notifications:[]}},created:function(){this.$store.commit("set_title","Notificaciones")},mounted:function(){var t=this;console.log("Notificaciones recibidas (mounted):",this.notifications),this.$store.dispatch("notifications",{}).then((function(e){t.notifications=t.groupNotifications(e),console.log("Notificaciones agrupadas:",t.notifications)})).catch((function(t){console.error("Error al cargar notificaciones:",t)}))},computed:Object(i["a"])(Object(i["a"])({},Object(k["b"])(["user","notifications"])),{},{userFullname:function(){return"".concat(this.user.name," ").concat(this.user.surname)},checkNotifications:function(){return console.log("Propiedad computada notifications:",this.notifications),this.notifications}}),methods:{groupNotifications:function(t){var e=t.reduce((function(t,e){var a,i,s,n,o=e.datetime.split(" ")[0];return t[o]||(t[o]={title:o,notifications:[]}),t[o].notifications.push({notification_id:e.notification_id,icon:"1"===e.type?"info":"notification_important",title:(null===(a=e.post)||void 0===a?void 0:a.title)||(null===(i=e.release)||void 0===i?void 0:i.heading)||"Sin título",text:(null===(s=e.post)||void 0===s?void 0:s.content)||(null===(n=e.release)||void 0===n?void 0:n.text)||"Sin contenido"}),t}),{});return Object.values(e)},markAsRead:function(t){var e=this;return Object(B["a"])(Object(M["a"])().mark((function a(){var i,s,n,o,r;return Object(M["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t&&t.notification_id){a.next=3;break}return console.error("La notificación no tiene un ID válido:",t.notification_id),a.abrupt("return");case 3:return console.log("Marcando como leída la notificación con ID:",t.notification_id),n=(null===(i=e.$store.state.user)||void 0===i?void 0:i.id)||(null===(s=JSON.parse(localStorage.getItem("user")))||void 0===s?void 0:s.id),o={user:n,id:t.notification_id},console.log(o),a.prev=7,a.next=10,e.readNotificationApi(o);case 10:r=a.sent,r?(console.log("Notificación marcada como leída exitosamente:",r),e.$store.commit("set_notifications",r)):console.error("La API no devolvió una respuesta válida al marcar como leída."),a.next=17;break;case 14:a.prev=14,a.t0=a["catch"](7),console.error("Error al intentar marcar la notificación como leída:",a.t0);case 17:case"end":return a.stop()}}),a,null,[[7,14]])})))()},readNotificationApi:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,L(t);case 4:return a=e.sent,e.abrupt("return",a);case 8:return e.prev=8,e.t0=e["catch"](1),console.error("Error al comunicarse con el servicio readNotification:",e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()}}}),ln=rn,cn=Object(Q["a"])(ln,nn,on,!1,null,null,null),un=cn.exports,dn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--material"},[a("section",{staticClass:"section pt-9"},[a("background-shape",{attrs:{color:"#F5D445"}}),a("div",{staticClass:"container position-relative pt-7"},[a("heading",{attrs:{data:t.heading,color:"light"}}),a("div",{staticClass:"parents-sections mt-7"},[t.loading?a("div",t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("section-button",{attrs:{loading:!0}})],1)})),0):a("div",[t.categories.length?a("div",t._l(t.categories,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("section-button",{attrs:{data:{class:"button--big button--"+t.color,slug:"material-educativo/categorias/"+t.slug+"?name="+t.name+"&color="+t.color,icon:t.icon,title:t.name}}})],1)})),0):a("div",{staticClass:"empty text-center px-5"},[a("i",{staticClass:"material-icons text-white mb-3"},[t._v("error")]),a("h3",{staticClass:"title title--s text-white"},[t._v(" No hay material educativo publicado ")])])])])],1)],1)])},mn=[],pn=function(t){return wo.get("/educational/materials/activity/",{params:t})},fn=function(t){return wo.get("/educational/materials/workshop/",{params:t})},hn=function(t){return wo.get("/educational/materials/video/",{params:t})},vn=function(t){return wo.get("/materials/categories/",{params:t})},_n=function(t){return wo.get("/educational/materials/categories/".concat(t.slug,"/items"),{params:t})},gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background-shape"},[a("div",{staticClass:"background-shape__inner"},[a("svg",{attrs:{viewBox:"0 0 427 432"}},[a("defs",[a("path",{attrs:{id:"a",d:"M0 0h427v432H0z"}})]),a("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[a("mask",{attrs:{id:"b",fill:"#fff"}},[a("use",{attrs:{"xlink:href":"#a"}})]),a("path",{attrs:{fill:t.color,d:"M279.602485 423.683129c19.131988-7.4877 36.286877-20.275589\n          51.702899-34.579409 61.530503-57.028576 97.875267-141.569643\n          95.593144-222.326454-.83715-29.566244-6.877541-139.2467405-22.781159-162.63500526C389.689896-17.0779985 367.97076-31.9252134\n          344.710912-42.5423097 263.099949-79.7662392 157.534483-65.3175137 80.100363-6.32435697\n          54.4047658 13.2629316 31.4410373 37.7519189 17.216172 66.8305014-12.1686727\n          126.946674-.19921334 279.023103 25.1646411 333.435024c27.2207237\n          58.402389 79.4713329 70.730482 140.5743539 87.67325 36.534014 10.135008\n          76.576932 17.160126 113.86349 2.574855z",mask:"url(#b)"}})])])])])},bn=[],Cn={props:{color:{type:String,default:"#3066B1"}}},wn=Cn,yn=Object(Q["a"])(wn,gn,bn,!1,null,null,null),xn=yn.exports,kn={name:"educational-material",components:{Heading:ke,SectionButton:Ae,BackgroundShape:xn},data:function(){return{defaultLoadingItems:3,loading:!1,heading:{label:"Estás viendo",title:"Material Educativo"},categories:[],params:{}}},created:function(){this.$store.commit("set_title","Material Educativo")},mounted:function(){this.getMaterialCategories()},computed:{},methods:{getMaterialCategories:function(){var t=this;this.loading=!0,this.getMaterialCategoriesFromApi(this.params).then((function(e){t.categories=e})).finally((function(){t.loading=!1}))},getMaterialCategoriesFromApi:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,vn(t);case 2:return a=e.sent,e.abrupt("return",a.data.data.categories);case 4:case"end":return e.stop()}}),e)})))()}}},On=kn,$n=Object(Q["a"])(On,dn,mn,!1,null,null,null),jn=$n.exports,Pn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--categories"},[a("section",{staticClass:"section pt-9"},[a("background-shape",{attrs:{color:t.shapeColor||"#EE7C00"}}),a("div",{staticClass:"container position-relative pt-7"},[a("heading",{attrs:{data:t.posts.heading,color:"light"}}),t.loading&&!t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):t._e(),t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.posts.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,url:"/material-educativo/entradas/"+t.slug,theme:"orange"}})],1)})),0),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":this.pagination.finish},attrs:{disabled:this.pagination.finish,label:this.pagination.finish?"No hay más entradas":"Cargar más",loading:t.loading,theme:this.$route.query.color||"orange"},on:{"handle-infinite":t.getMoreItems}})],1)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-white mb-4"},[t._v("error")]),a("h3",{staticClass:"title title--s text-white"},[t._v(" No hay entradas publicadas ")])])],1)],1)])},Sn=[],An={name:"material-categories",components:{Heading:ke,PostCard:He,InfiniteButton:lt,BackgroundShape:xn},data:function(){return{loading:!1,defaultLoadingItems:5,posts:{heading:{label:"Estás viendo",title:this.$route.query?this.$route.query.name:"Material Educativo"},data:[]},pagination:{slug:this.$route.params?this.$route.params.slug:"",finish:!1,page:1}}},mounted:function(){this.$store.commit("set_title","Material Educativo"),this.getItems()},computed:{shapeColor:function(){var t="",e=this.$route.query.color;return"blue"===e&&(t="#3066B1"),"red"===e&&(t="#E2432A"),"green"===e&&(t="#73BB32"),"orange"===e&&(t="#EE7C00"),"purple"===e&&(t="#782D85"),"yellow"===e&&(t="#F5D445"),"skyblue"===e&&(t="#5DACDF"),t}},methods:{getItems:function(){var t=this;this.pagination.finish||(this.loading=!0,this.getMaterialsPostsByCategoriesFromApi(this.pagination).then(this.checkNextPage).then(this.populateData).catch((function(){t.$toasted.show("No hemos podido obtener las entradas.",{theme:"outline",position:"bottom-center",duration:7e3})})).then((function(){t.loading=!1})))},checkNextPage:function(t){return this.pagination.finish=!t.educational_material.next_page_url,t},populateData:function(t){var e=t.educational_material.data;return this.posts.data=1===this.pagination.page?e:this.posts.data.concat(e),t},getMoreItems:function(){this.pagination.page+=1,this.getItems()},getMaterialsPostsByCategoriesFromApi:function(){var t=arguments;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,_n(a);case 3:return i=e.sent,e.abrupt("return",i.data.data);case 5:case"end":return e.stop()}}),e)})))()}}},Dn=An,Nn=Object(Q["a"])(Dn,Pn,Sn,!1,null,null,null),En=Nn.exports,In=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--activities"},[a("section",{staticClass:"section pt-9"},[a("background-shape",{attrs:{color:"#EE7C00"}}),a("div",{staticClass:"container position-relative pt-7"},[a("heading",{attrs:{data:t.posts.heading,color:"light"}}),t.loading&&!t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):t._e(),t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.posts.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,url:"/material-educativo/actividades/"+t.slug,theme:"orange"}})],1)})),0),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":this.pagination.finish},attrs:{disabled:this.pagination.finish,label:this.pagination.finish?"No hay más actividades":"Cargar más",loading:t.loading,theme:"orange"},on:{"handle-infinite":t.getMoreItems}})],1)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-white mb-4"},[t._v("error")]),a("h3",{staticClass:"title title--s text-white"},[t._v(" No hay actividades publicadas ")])])],1)],1)])},qn=[],Mn={name:"material-activities",components:{Heading:ke,PostCard:He,InfiniteButton:lt,BackgroundShape:xn},data:function(){return{loading:!1,defaultLoadingItems:5,posts:{heading:{label:"Estás viendo",title:"Actividades"},data:[]},pagination:{finish:!1,page:1}}},created:function(){this.$store.commit("set_title","Material Educativo"),this.getItems()},methods:{getItems:function(){var t=this;this.pagination.finish||(this.loading=!0,this.getItemsData(this.pagination).then(this.checkNextPage).then(this.populateData).then((function(){t.loading=!1})))},checkNextPage:function(t){return this.pagination.finish=!t.educational_material.next_page_url,t},populateData:function(t){var e=t.educational_material.data;return this.posts.data=1===this.pagination.page?e:this.posts.data.concat(e),t},getMoreItems:function(){this.pagination.page+=1,this.getItems()},getItemsData:function(){var t=arguments;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,pn(a);case 3:return i=e.sent,e.abrupt("return",i.data.data);case 5:case"end":return e.stop()}}),e)})))()}}},Bn=Mn,Tn=Object(Q["a"])(Bn,In,qn,!1,null,null,null),Ln=Tn.exports,Fn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--workshops"},[a("section",{staticClass:"section pt-9"},[a("background-shape",{attrs:{color:"#F5D445"}}),a("div",{staticClass:"container position-relative pt-7"},[a("heading",{attrs:{data:t.posts.heading,color:"light"}}),t.loading&&!t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):t._e(),t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.posts.data,(function(t){return a("div",{key:t.id,staticClass:"mb-5 last"},[a("post-card",{attrs:{data:t,url:"/material-educativo/talleres/"+t.slug,theme:"yellow"}})],1)})),0),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":this.pagination.finish},attrs:{disabled:this.pagination.finish,label:this.pagination.finish?"No hay más talleres":"Cargar más",loading:t.loading,theme:"yellow"},on:{"handle-infinite":t.getMoreItems}})],1)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-white mb-4"},[t._v("error")]),a("h3",{staticClass:"title title--s text-white"},[t._v(" No hay talleres publicadas ")])])],1)],1)])},Vn=[],Hn={name:"material-workshops",components:{Heading:ke,PostCard:He,InfiniteButton:lt,BackgroundShape:xn},data:function(){return{loading:!1,defaultLoadingItems:5,posts:{heading:{label:"Estás viendo",title:"Talleres"},data:[]},pagination:{finish:!1,page:1}}},created:function(){this.$store.commit("set_title","Material Educativo"),this.getItems()},methods:{getItems:function(){var t=this;this.pagination.finish||(this.loading=!0,this.getItemsData(this.pagination).then(this.checkNextPage).then(this.populateData).then((function(){t.loading=!1})))},checkNextPage:function(t){return this.pagination.finish=!t.educational_material.next_page_url,t},populateData:function(t){var e=t.educational_material.data;return this.posts.data=1===this.pagination.page?e:this.posts.data.concat(e),t},getMoreItems:function(){this.pagination.page+=1,this.getItems()},getItemsData:function(){var t=arguments;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,fn(a);case 3:return i=e.sent,e.abrupt("return",i.data.data);case 5:case"end":return e.stop()}}),e)})))()}}},Rn=Hn,zn=Object(Q["a"])(Rn,Fn,Vn,!1,null,null,null),Un=zn.exports,Jn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--videos"},[a("section",{staticClass:"section pt-9"},[a("background-shape",{attrs:{color:"#70ABDA"}}),a("div",{staticClass:"container position-relative pt-7"},[a("heading",{attrs:{data:t.posts.heading,color:"light"}}),t.loading&&!t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.defaultLoadingItems,(function(t,e){return a("div",{key:e,staticClass:"mb-5 last"},[a("post-card",{attrs:{loading:!0}})],1)})),0)]):t._e(),t.posts.data.length?a("div",[a("div",{staticClass:"mt-5"},t._l(t.posts.data,(function(e,i){return a("div",{key:e.id,staticClass:"tutorial mb-5 last",class:{"tutorial--active":t.currentCollapse===i}},[a("header",{staticClass:"tutorial__header"},[a("h3",{staticClass:"tutorial__title title title--s"},[a("button",{staticClass:"tutorial__collapse button w-100",on:{click:function(a){return t.changeAccordion(i,e)}}},[a("i",{staticClass:"material-icons"},[t._v(t._s(e.icon))]),a("span",[t._v(t._s(e.title))])])])]),a("div",{staticClass:"tutorial__content"},[e.video?a("div",{staticClass:"onboarding__image"},[t.currentCollapse===i?a("div",{staticClass:"embed-responsive"},[a("youtube",{attrs:{"video-id":e.video,"player-vars":t.playerVars}})],1):t._e()]):t._e(),e.text?a("div",{staticClass:"px-4 py-5",domProps:{innerHTML:t._s(e.text)}}):t._e()])])})),0),a("div",{staticClass:"mt-7"},[a("infinite-button",{class:{"button--finish":this.pagination.finish},attrs:{disabled:this.pagination.finish,label:this.pagination.finish?"No hay más videos":"Cargar más",loading:t.loading,theme:"skyblue"},on:{"handle-infinite":t.getMoreItems}})],1)]):a("div",{staticClass:"empty text-center px-4 pb-6 pt-10"},[a("i",{staticClass:"material-icons text-white mb-4"},[t._v("error")]),a("h3",{staticClass:"title title--s text-white"},[t._v(" No hay videos publicados ")])])],1)],1)])},Gn=[],Qn={name:"material-videos",components:{Heading:ke,PostCard:He,InfiniteButton:lt,BackgroundShape:xn},data:function(){return{loading:!1,currentCollapse:0,defaultLoadingItems:5,playerVars:{autoplay:0,modestbranding:1,rel:0,enablejsapi:1,playsinline:1,fs:0},posts:{heading:{label:"Estás viendo",title:"Videos"},data:[]},pagination:{finish:!1,page:1}}},created:function(){this.$store.commit("set_title","Material Educativo"),this.getItems()},methods:{getItems:function(){var t=this;this.pagination.finish||(this.loading=!0,this.getItemsData(this.pagination).then(this.checkNextPage).then(this.populateData).then((function(){t.loading=!1})))},checkNextPage:function(t){return this.pagination.finish=!t.videos.next_page_url,t},populateData:function(t){var e=t.videos.data;return this.posts.data=1===this.pagination.page?e:this.posts.data.concat(e),t},getMoreItems:function(){this.pagination.page+=1,this.getItems()},changeAccordion:function(t){return this.currentCollapse===t?(this.currentCollapse=1e3,t):(this.currentCollapse=t,t)},getItemsData:function(){var t=arguments;return Object(B["a"])(Object(M["a"])().mark((function e(){var a,i;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,hn(a);case 3:return i=e.sent,e.abrupt("return",i.data.data);case 5:case"end":return e.stop()}}),e)})))()}}},Yn=Qn,Zn=Object(Q["a"])(Yn,Jn,Gn,!1,null,null,null),Kn=Zn.exports,Wn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--covid section--light"},[t.data?a("section",{staticClass:"section py-0"},[a("header",{staticClass:"background-green-dark pt-header text-center"},[a("div",{staticClass:"container pt-6 pb-7"},[a("heading",{attrs:{data:{title:t.data.subtitle},color:"light"}})],1)]),a("div",{staticClass:"covid19"},[a("div",{staticClass:"container pt-4 pb-3"},[t.data.description?a("p",{staticClass:"text text-center text--smaller",domProps:{innerHTML:t._s(t.data.description)}}):t._e(),a("div",[a("p",{staticClass:"d-flex align-items-center mb-1"},[a("span",{staticClass:"covid19__label"},[t._v("Nombre:")]),t._v(" "),a("span",{staticClass:"form-control-plaintext"},[t._v(t._s(t.data.full_name))])]),a("p",{staticClass:"d-flex align-items-center"},[a("span",{staticClass:"covid19__label"},[t._v("RUT:")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.rut,expression:"data.rut"},{name:"rut",rawName:"v-rut"}],staticClass:"form-control-plaintext",attrs:{type:"text"},domProps:{value:t.data.rut},on:{input:function(e){e.target.composing||t.$set(t.data,"rut",e.target.value)}}})])])]),a("div",{staticClass:"section section--light"},[a("div",{staticClass:"container"},[a("heading",{attrs:{data:{title:"Mi aporte"}}}),a("ValidationObserver",{attrs:{tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.handleSubmit;return[a("form",{ref:"form",staticClass:"form",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),i(t.onSubmit)}}},[a("fieldset",{staticClass:"form__item"},[a("div",{staticClass:"form__fields"},[a("div",{staticClass:"covid19__options form-row"},[t._l(t.amounts,(function(e){return a("div",{key:e.value,staticClass:"col-6 mt-3"},[a("button",{staticClass:"button button--section",class:"button--"+e.color,attrs:{type:"button"},on:{click:function(a){return t.setAmount(e.value)}}},[a("span",{staticClass:"button__text"},[t._v(t._s(t.formatPrice(e.value)))]),a("transition",{attrs:{name:"fade"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.value===t.amount,expression:"item.value === amount"}],staticClass:"button__icon material-icons"},[t._v("check_circle")])])],1)])})),a("div",{staticClass:"col-6 mt-3"},[a("div",{staticClass:"form-price"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.customAmount,expression:"customAmount"}],staticClass:"form-control",attrs:{type:"number",id:"amount",name:"amount",placeholder:"Otro"},domProps:{value:t.customAmount},on:{input:[function(e){e.target.composing||(t.customAmount=e.target.value)},t.formatNumber]}})])])],2),a("ValidationProvider",{attrs:{name:"monto",rules:"required",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){e.classes;var i=e.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],attrs:{type:"hidden"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),i.length?a("small",{staticClass:"form-helper form-helper--error mt-3"},[a("i",{staticClass:"material-icons"},[t._v("info")]),t._v(" "+t._s(i[0])+" ")]):t._e()]}}],null,!0)}),a("div",{staticClass:"custom-control custom-checkbox mt-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.legal,expression:"legal"}],staticClass:"custom-control-input",attrs:{type:"checkbox",id:"covidLegal"},domProps:{checked:Array.isArray(t.legal)?t._i(t.legal,null)>-1:t.legal},on:{change:function(e){var a=t.legal,i=e.target,s=!!i.checked;if(Array.isArray(a)){var n=null,o=t._i(a,n);i.checked?o<0&&(t.legal=a.concat([n])):o>-1&&(t.legal=a.slice(0,o).concat(a.slice(o+1)))}else t.legal=s}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"covidLegal"}},[t._v(" "+t._s(t.data.text_check)+" ")])])],1),a("div",{staticClass:"form__submit covid19__actions mt-4 mx-auto"},[a("infinite-button",{staticClass:"button--submit button--green button--small",attrs:{disabled:t.loading,label:t.loading?"Enviando...":"Aportar",loading:t.loading,icon:null,type:"submit"}}),a("router-link",{staticClass:"button button--primary button--white button--small w-100",attrs:{to:{name:"home"}}},[a("span",{staticClass:"button__text"},[t._v("Volver al inicio")])])],1)])])]}}],null,!1,2528213776)})],1)])])]):t._e()])},Xn=[],to=function(){return wo.get("/covid/ammounts")},eo=function(t){return wo.post("/covid/user/ammounts",t)},ao=(a("a9e3"),a("b680"),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".";try{e=Math.abs(e),e=isNaN(e)?2:e;var s=t<0?"-":"",n=parseInt(t=Math.abs(Number(t)||0).toFixed(e)).toString(),o=n.length>3?n.length%3:0;return"$"+s+(o?n.substr(0,o)+i:"")+n.substr(o).replace(/(\d{3})(?=\d)/g,"$1"+i)+(e?a+Math.abs(t-n).toFixed(e).slice(2):"")}catch(r){console.log(r)}}),io={name:"Covid19",components:{Heading:ke,InfiniteButton:lt},data:function(){return{loading:!1,data:null,amounts:[],customAmount:"",amount:"",legal:!1}},mounted:function(){var t=this;this.getCovidDataData().then((function(e){t.$store.commit("set_title",e.generalInformation.title),t.data=e.generalInformation,t.amounts=e.amounts})).catch((function(){t.$toasted.show("No hemos podido obtener los datos",{theme:"outline",position:"bottom-center",duration:7e3})}))},methods:{setAmount:function(t){this.amount="",t.target?this.amount=t.target.value:(this.customAmount="",this.amount=t)},onSubmit:function(){return this.legal?(this.loading=!0,this.submitForm()):ie()({icon:"error",title:"Debes marcar la casilla de autorización para enviar el aporte.",button:"Entendido"})},submitForm:function(){var t=this,e={amount:this.removethousandSeparator(this.amount),user_rut:this.data.rut};this.sendCovidMoney(this.parseDataBeforeSend(e)).then((function(){t.$router.push({name:"covid19-thanks"})})).catch((function(){t.$router.push({name:"covid19-thanks"})})).then((function(){t.loading=!1}))},parseDataBeforeSend:function(t){var e=new FormData;return Object.keys(t).forEach((function(a){return e.append(a,t[a])})),e},formatNumber:function(t){this.setAmount(t),this.customAmount=this.thousandSeparator(this.customAmount)},thousandSeparator:function(t){if(""!==t||void 0!==t||0!==t||"0"!==t||null!==t){var e=this.removethousandSeparator(t);return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return t},removethousandSeparator:function(t){return""!==t||void 0!==t||0!==t||"0"!==t||null!==t?t.toString().replace(/\./g,""):t},formatPrice:ao,getCovidDataData:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,to();case 2:return e=t.sent,t.abrupt("return",e.data.data);case 4:case"end":return t.stop()}}),t)})))()},sendCovidMoney:function(t){return Object(B["a"])(Object(M["a"])().mark((function e(){var a;return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,eo(t);case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})))()}}},so=io,no=Object(Q["a"])(so,Wn,Xn,!1,null,null,null),oo=no.exports,ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view view--covid"},[a("section",{staticClass:"section"},[a("div",{staticClass:"container"},[a("figure",{staticClass:"mt-10 text-center"},[a("img",{staticClass:"img-fluid",attrs:{src:t.data.image,alt:t.img.alt}})]),t.data.gratitude?a("div",{staticClass:"text text-center mt-6"},[a("div",{domProps:{innerHTML:t._s(t.data.gratitude)}})]):t._e(),a("div",{staticClass:"covid_final mt-6 text-center"},[a("router-link",{staticClass:"button button--primary button--small button--white",attrs:{to:{name:"home"}}},[a("span",{staticClass:"button__text"},[t._v("Volver al inicio")])])],1)])])])},lo=[],co=a("6bfb"),uo=a.n(co),mo={name:"Covid19Thanks",data:function(){return{loading:!1,img:{src:uo.a,alt:"Integra se mueve por Integra - Gracias"},data:null}},mounted:function(){var t=this;this.$store.commit("set_title","Aporte Covid-19"),this.getCovidDataData().then((function(e){t.$store.commit("set_title",e.generalInformation.title),t.data=e.generalInformation})).catch((function(){t.$toasted.show("No hemos podido obtener los datos",{theme:"outline",position:"bottom-center",duration:7e3})}))},methods:{getCovidDataData:function(){return Object(B["a"])(Object(M["a"])().mark((function t(){var e;return Object(M["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,to();case 2:return e=t.sent,t.abrupt("return",e.data.data);case 4:case"end":return t.stop()}}),t)})))()}}},po=mo,fo=Object(Q["a"])(po,ro,lo,!1,null,null,null),ho=fo.exports;o["default"].use(x["a"]);var vo=[{path:"/legal",name:"terms",component:ce,meta:{requiresAuth:!0}},{path:"/ingresar",name:"login",component:mt,meta:{redirectIfAuthenticated:!0}},{path:"/recuperar-contrasena",name:"forgot",component:gt,meta:{redirectIfAuthenticated:!0}},{path:"/cambiar-contrasena",name:"recover",component:kt,meta:{redirectIfAuthenticated:!0}},{path:"/registrarse",name:"signup",component:At,meta:{redirectIfAuthenticated:!0}},{path:"/registrarse/datos-personales",name:"signup-data-review",component:Mt},{path:"/registrarse/completar-datos",name:"signup-data-complete",component:Ht},{path:"/registrarse/onboarding",name:"onboarding",component:Xt},{path:"/",name:"home",component:We,meta:{requiresAuth:!0}},{path:"/noticias",name:"news",component:oa,meta:{requiresAuth:!0}},{path:"/noticias/:slug",name:"new",component:ps,meta:{api:"post",label:"Noticias",related:"Noticias Relacionadas",requiresAuth:!0}},{path:"/comunicados",name:"releases",component:ha,meta:{requiresAuth:!0}},{path:"/beneficios",name:"benefits",component:ka,meta:{requiresAuth:!0}},{path:"/beneficios/:slug",name:"single-benefits",component:Ha,meta:{api:"release",label:"Beneficios",related:"Material Adicional",requiresAuth:!0}},{path:"/otros-beneficios",name:"other-benefits",component:Aa,meta:{requiresAuth:!0}},{path:"/comunicados/:slug",name:"release",component:ps,meta:{api:"release",label:"Comunicados",related:"Comunicados Relacionados",requiresAuth:!0}},{path:"/ofertas",name:"jobs",component:Qa,meta:{requiresAuth:!0}},{path:"/ofertas/:slug",name:"job",component:ps,meta:{api:"release",label:"Ofertas Laborales",related:"Ofertas Relacionadas",requiresAuth:!0}},{path:"/encuestas/:id",name:"survey",component:ws,meta:{api:"survey",label:"Encuestas",requiresAuth:!0}},{path:"/servicios",name:"services",component:ni,meta:{requiresAuth:!0}},{path:"/servicios/terminos-y-condiciones",name:"salary-terms",component:di,meta:{requiresAuth:!0}},{path:"/liquidaciones-de-sueldo",name:"salary-settlements",component:_i,meta:{requiresAuth:!0}},{path:"/liquidaciones-de-sueldo/ultimas",name:"salary-latest",component:xi,meta:{requiresAuth:!0}},{path:"/liquidaciones-de-sueldo/liquidacion",name:"salary",component:Si,meta:{requiresAuth:!0}},{path:"/certificados",name:"certificates",component:qi,meta:{requiresAuth:!0}},{path:"/certificados/configurar",name:"configurate-certificate",component:Vi,meta:{requiresAuth:!0}},{path:"/certificados/certificado",name:"certificate",component:Yi,meta:{requiresAuth:!0}},{path:"/certificados/renta-1887",name:"rent1887",component:es,meta:{requiresAuth:!0}},{path:"/perfil",name:"profile",component:js,meta:{requiresAuth:!0}},{path:"/perfil/preferencias",name:"preferences",component:Ls,meta:{requiresAuth:!0}},{path:"/mesa-de-ayuda",redirect:"/mesa-de-ayuda/tutoriales",meta:{requiresAuth:!0}},{path:"/mesa-de-ayuda/tutoriales",name:"tutorials",component:Us,meta:{requiresAuth:!0}},{path:"/mesa-de-ayuda/preguntas",name:"faq",component:Ks,meta:{requiresAuth:!0}},{path:"/mesa-de-ayuda/contacto",name:"contact",component:sn,meta:{requiresAuth:!0}},{path:"/notificaciones",name:"notifications",component:un,meta:{requiresAuth:!0}},{path:"/material-educativo",name:"educational-material",component:jn,meta:{requiresAuth:!0,requireProfile:"parent"}},{path:"/material-educativo/categorias",name:"material-categories-home",redirect:"/material-educativo"},{path:"/material-educativo/entradas",name:"material-entradas-home",redirect:"/material-educativo"},{path:"/material-educativo/categorias/:slug",name:"material-categories",component:En,meta:{api:"educational/materials/categories",label:"",related:"",requiresAuth:!0,requireProfile:"parent"}},{path:"/material-educativo/entradas/:slug",name:"material-entradas",component:ps,meta:{api:"educational/materials",label:"Material Educativo",related:"Material Relacionado",requiresAuth:!0,requireProfile:"parent"}},{path:"/material-educativo/actividades",name:"material-activities",component:Ln,meta:{requiresAuth:!0,requireProfile:"parent"}},{path:"/material-educativo/actividades/:slug",name:"material-activity",component:ps,meta:{api:"educational/materials/activity",label:"Actividades",related:"Actividades Relacionadas",requiresAuth:!0,requireProfile:"parent"}},{path:"/material-educativo/talleres",name:"material-workshops",component:Un,meta:{requiresAuth:!0,requireProfile:"parent"}},{path:"/material-educativo/talleres/:slug",name:"material-workshop",component:ps,meta:{api:"educational/materials/workshop",label:"Talleres",related:"Talleres Relacionados",requiresAuth:!0,requireProfile:"parent"}},{path:"/material-educativo/videos",name:"material-videos",component:Kn,meta:{requiresAuth:!0,requireProfile:"parent"}},{path:"/material-educativo/videos/:slug",name:"material-video",component:ps,meta:{api:"post",label:"Videos",related:"Videos Relacionados",requiresAuth:!0,requireProfile:"parent"}},{path:"/aporte-covid19",name:"covid19",component:oo,meta:{requiresAuth:!0,requireProfile:"parent"},beforeEnter:function(t,e,a){return V.state.user.is_parent?a({name:"home"}):a()}},{path:"/aporte-covid19/gracias",name:"covid19-thanks",component:ho,meta:{requiresAuth:!0,requireProfile:"parent"},beforeEnter:function(t,e,a){return V.state.user.is_parent?a({name:"home"}):a()}},{path:"/about",name:"about",meta:{}},{path:"*",name:"404",meta:{},redirect:{name:"home"}}],_o=new x["a"]({mode:"hash",base:"/",routes:vo,scrollBehavior:function(){return{x:0,y:0}}});_o.beforeEach((function(t,e,a){return t.matched.some((function(t){return t.meta&&t.meta.requiresAuth}))?V.getters.isLoggedIn?void a():void a("/ingresar"):t.matched.some((function(t){return t.meta&&t.meta.redirectIfAuthenticated}))&&V.getters.isLoggedIn&&V.state.user.is_termn_home?void a("/"):void a()}));var go=_o,bo=y.a.create({baseURL:"https://apimobile.integrapps.cl/api",headers:{"Content-Type":"application/json",Accept:"application/json"}});bo.interceptors.response.use((function(t){var e=V.state.user.is_public||0,a=t.data.is_logged||0;return Array.isArray(t.data)||a||e||(V.commit("logout"),go.push("ingresar")),t}),(function(t){return V.state.user.is_public||401!==t.response.status||(V.commit("logout"),go.push("ingresar")),Promise.reject(t)}));var Co=function(){function t(){Object(b["a"])(this,t)}return Object(C["a"])(t,[{key:"setToken",value:function(t){t&&(bo.defaults.headers.common.Authorization="Bearer ".concat(t))}},{key:"get",value:function(t,e){return e=e||{},bo.get(t,e)}},{key:"post",value:function(t,e){return e=e||{},bo.post(t,e)}},{key:"put",value:function(t,e){return e=e||{},bo.put(t,e)}},{key:"patch",value:function(t,e){return e=e||{},bo.patch(t,e)}}])}(),wo=new Co,yo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a(t.layout,{tag:"component"})],1)},xo=[],ko=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth"},[a("router-view")],1)},Oo=[],$o={name:"auth"},jo=$o,Po=Object(Q["a"])(jo,ko,Oo,!1,null,null,null),So=Po.exports,Ao=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("app-header"),a("div",[a("vue-page-transition",{attrs:{name:"fade-in-up"}},[a("router-view")],1)],1),a("app-bar")],1)},Do=[],No=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"header"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-3"},[t.user.is_parent||t.title?a("button",{staticClass:"header__back button",on:{click:t.handleBackButton}},[a("i",{staticClass:"button__icon material-icons"},[t._v("arrow_back")]),a("span",{staticClass:"button__text"},[t._v("Volver")])]):a("figure",{staticClass:"header__hello"},[a("img",{staticClass:"header__logo img-fluid",attrs:{src:t.logo.src,alt:t.logo.alt}}),t.user.is_parent&&"home"===t.$route.name?a("figcaption",{staticClass:"header__title title"},[t._v(" ¡Hola! ")]):t._e()])]),a("div",{staticClass:"col-6"},[t.title?a("p",{staticClass:"header__title title font-weight-bold"},[t._v(t._s(t.title))]):a("p",{staticClass:"header__title title"},[t._v("¡Hola"),t.user.name?a("span",[t._v(", "+t._s(t.user.name))]):t._e(),t._v("!")])]),t.title&&t.$route.meta.api&&"survey"!==t.$route.meta.api?a("div",{class:[t.title?"col-3":"col-2"]},[a("div",{staticClass:"header__font-size"},[a("button",{staticClass:"button button--font button--font-big",on:{click:function(e){return t.changeFontSize(t.fontSize>2.49?null:.25)}}},[a("span",{staticClass:"button__text"},[t._v("+A")])]),a("button",{staticClass:"button button--font button--font-small ml-2",on:{click:function(e){return t.changeFontSize(t.fontSize<.51?null:-.25)}}},[a("span",{staticClass:"button__text"},[t._v("-A")])])])]):t._e()])])])},Eo=[],Io={name:"app-header",data:function(){return{logo:{src:a("f69c"),alt:""}}},computed:Object(i["a"])({},Object(k["b"])(["title","user","fontSize"])),methods:{changeFontSize:function(t){this.$store.commit("font_size",t)},handleBackButton:function(){return this.user.is_parent&&"home"===this.$route.name?this.$router.push({name:"login"}):"survey"===this.$route.name?this.$router.push({name:"home"}):this.$router.go(-1)}}},qo=Io,Mo=Object(Q["a"])(qo,No,Eo,!1,null,null,null),Bo=Mo.exports,To=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-bar"},[i("transition",{attrs:{name:"fadeUp"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showMenu,expression:"showMenu"}],staticClass:"menu"},[i("header",{staticClass:"menu__user profile-header background-blue"},[i("div",{staticClass:"container py-4"},[i("div",{staticClass:"profile-header__content"},[i("figure",{staticClass:"profile-header__avatar"},[i("img",{staticClass:"img-fluid",attrs:{src:t.user.avatar||a("894b"),alt:t.userFullname}})]),t.user.is_public?t._e():i("div",{staticClass:"profile-header__name"},[i("p",{staticClass:"title title--s mb-2 font-weight-normal text-white"},[t._v(" "+t._s(t.userFullname)+" ")]),i("router-link",{staticClass:"button",attrs:{to:"/perfil"},nativeOn:{click:function(e){t.showMenu=!1}}},[i("span",{staticClass:"button__text"},[t._v("Ver perfil")]),i("i",{staticClass:"button__icon material-icons"},[t._v("arrow_forward")])])],1)])])]),i("nav",{staticClass:"menu__navigation navigation"},[i("ul",{staticClass:"navigation__list"},[t._l(t.menu,(function(e,a){return i("li",{directives:[{name:"show",rawName:"v-show",value:t.isPublic(e),expression:"isPublic(item)"}],key:a,staticClass:"navigation__item"},[i("router-link",{staticClass:"navigation__link",attrs:{to:e.url},nativeOn:{click:function(e){t.showMenu=!1}}},[i("i",{staticClass:"navigation__icon material-icons"},[t._v(t._s(e.icon))]),i("span",{staticClass:"navigation__text"},[t._v(t._s(e.label))])])],1)})),i("li",{staticClass:"navigation__item"},[t.user.skip_auth?i("a",{staticClass:"navigation__link",on:{click:function(e){return t.createAccount(t.user.is_parent)}}},[i("i",{staticClass:"navigation__icon material-icons",domProps:{textContent:t._s(t.user.is_parent?"power_settings_new":"person")}}),i("span",{staticClass:"navigation__text",domProps:{textContent:t._s(t.user.is_parent?"Salir":"Crear una cuenta")}})]):i("a",{staticClass:"navigation__link",on:{click:t.logoutUser}},[i("i",{staticClass:"navigation__icon material-icons"},[t._v("exit_to_app")]),i("span",{staticClass:"navigation__text"},[t._v("Cerrar sesión")])])])],2)]),t.isLoggedIn()?i("div",{staticClass:"menu__logout bottom_menu"},[i("a",{staticClass:"link_menu",attrs:{href:"#"},on:{click:t.deleteAccount}},[i("span",{staticClass:"button__text"},[t._v("⚠ Eliminar esta Cuenta")])])]):t._e(),i("div",{staticClass:"menu__logout"},[i("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){t.showMenu=!1}}},[i("i",{staticClass:"button__icon material-icons"},[t._v("close")]),i("span",{staticClass:"button__text"},[t._v("Cerrar menú")])])])])]),i("nav",{staticClass:"bar"},[i("div",{staticClass:"bar__iphone"},[i("ul",{staticClass:"bar__list"},[i("li",{staticClass:"bar__item"},[i("router-link",{staticClass:"bar__link",attrs:{to:"/"}},[i("span",{staticClass:"bar__group"},[i("i",{staticClass:"bar__icon material-icons"},[t._v("home")])]),i("span",{staticClass:"bar__text"},[t._v("Inicio")])])],1),t.user.is_public?i("li",{staticClass:"bar__item w-38"},[i("router-link",{staticClass:"bar__link",attrs:{to:"/material-educativo"}},[i("span",{staticClass:"bar__group"},[i("i",{staticClass:"bar__icon material-icons"},[t._v("format_list_bulleted")])]),i("span",{staticClass:"bar__text"},[t._v("Material educativo")])])],1):i("li",{staticClass:"bar__item"},[i("router-link",{staticClass:"bar__link",attrs:{to:"/notificaciones"}},[i("span",{staticClass:"bar__group"},[i("i",{staticClass:"bar__icon material-icons"},[t._v("notifications")]),t.countNotifications?i("span",{staticClass:"bar__notifies"},[t._v(t._s(t.countNotifications))]):t._e()]),i("span",{staticClass:"bar__text"},[t._v("Notificaciones")])])],1),i("li",{staticClass:"bar__item"},[i("a",{staticClass:"bar__link",on:{click:function(e){t.showMenu=!0}}},[t._m(0),i("span",{staticClass:"bar__text"},[t._v("Menú")])])])])])])],1)},Lo=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"bar__group"},[a("i",{staticClass:"bar__icon material-icons"},[t._v("menu")])])}],Fo=a("53ca"),Vo=(a("a630"),a("e9c4"),{name:"app-bar",data:function(){return{showMenu:!1,menu:[{icon:"home",label:"Inicio",url:"/",public:!0},{icon:"library_books",label:"Noticias",url:"/noticias",public:!0},{icon:"chat",label:"Comunicados",url:"/comunicados",public:!0},{icon:"format_list_bulleted",label:"Material Educativo",url:"/material-educativo",public:!0,parent:!0},{icon:"volunteer_activism",label:"Beneficios",url:"/beneficios",public:!1,parent:!0},{icon:"notifications",label:"Notificaciones",url:"/notificaciones",public:!1},{icon:"apps",label:"Servicios",url:"/servicios",disabled:!0,public:!1},{icon:"help",label:"Ayuda",url:"/mesa-de-ayuda",public:!1},{icon:"settings",label:"Preferencias",url:"/perfil/preferencias",public:!1}]}},mounted:function(){var t=this.$store.state.notifications;localStorage.setItem("notifications",JSON.stringify(t))},computed:Object(i["a"])(Object(i["a"])({},Object(k["b"])(["user","notifications"])),{},{userFullname:function(){return"".concat(this.user.name," ").concat(this.user.surname)},countNotifications:function(){console.log("this.notifications antes de la conversión:",this.notifications);var t=Array.isArray(this.notifications)?this.notifications:Array.from(this.notifications);if(console.log("Tipo de notificationsArray:",Object(Fo["a"])(t)),console.log("notificationsArray:",t),!Array.isArray(t))return console.error("notificationsArray no es un array válido."),0;var e=t.reduce((function(t,e){return Array.isArray(e.notifications)?t+e.notifications.length:t}),0);return console.log("Total de notificaciones calculado:",e),this.notifications.length}}),methods:{isEnabled:function(t){return!t.disabled||"186645863"!==this.user.rut},isLoggedIn:function(){return this.user.rut},isPublic:function(t){return!(!this.user.is_parent&&t.parent)&&(!this.user.is_public||t.public)},logoutUser:function(){var t=this;this.loading=!0,this.$store.dispatch("logout").then((function(){return t.$router.push({name:"login"})}))},createAccount:function(t){t?this.$router.push({name:"login"}):this.$router.push({name:"signup"})},deleteAccount:function(){var t=this;return Object(B["a"])(Object(M["a"])().mark((function e(){return Object(M["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:ie()({title:"¿Estás seguro de que quieres eliminar tu cuenta?",text:"No podrás volver a iniciar sesión luego de realizar esta acción",icon:"error",buttons:["No","Si"],dangerMode:!0}).then((function(e){e&&I().then((function(){t.loading=!0,ie()({title:"",text:"Cuenta eliminada correctamente",icon:"success",button:"Aceptar"}),t.$store.dispatch("logout").then((function(){return t.$router.push({name:"login"})}))})).catch((function(){ie()({title:"",text:"No se ha eliminado tu cuenta, intenta más adelante",icon:"error",button:"Aceptar"})}))}));case 1:case"end":return e.stop()}}),e)})))()}}}),Ho=Vo,Ro=(a("06e7"),a("9d7f"),Object(Q["a"])(Ho,To,Lo,!1,null,null,null)),zo=Ro.exports,Uo={name:"app",components:{AppHeader:Bo,AppBar:zo},mounted:function(){this.getNotifies()},computed:Object(i["a"])({},Object(k["b"])(["user","notifications"])),methods:{getNotifies:function(){var t=this;this.loading=!0,this.user.is_public||this.$store.dispatch("notifications",{}).then((function(){t.loading=!1}))},updateNotifies:function(){this.getNotifies()}}},Jo=Uo,Go=Object(Q["a"])(Jo,Ao,Do,!1,null,null,null),Qo=Go.exports,Yo={name:"app",components:{AuthLayout:So,AppLayout:Qo},computed:Object(k["b"])(["layout"])},Zo=Yo,Ko=(a("d05a"),Object(Q["a"])(Zo,yo,xo,!1,null,null,null)),Wo=Ko.exports;a("7e7d");for(var Xo in Object(c["d"])("es",f),o["default"].config.productionTip=!1,o["default"].use(l["a"]),o["default"].use(g.a),o["default"].use(m.a),o["default"].use(v.a,{}),o["default"].use(r["default"]),o["default"].component("ValidationProvider",c["b"]),o["default"].component("ValidationObserver",c["a"]),Object(c["c"])("rut",{validate:p["validate"],message:"El RUT es inválido"}),Object(c["c"])("integra",{validate:function(t){return!t.includes("integra.cl")},message:"El campo {_field_} no puede ser un correo institucional"}),u)Object(c["c"])(Xo,Object(i["a"])(Object(i["a"])({},u[Xo]),{},{message:f.messages[Xo]}));window.vueComponents={},new o["default"]({router:go,store:V,beforeCreate:function(){n.a.initialize("31b7f490-b6c7-471c-a1eb-29b261d8721e"),n.a.Notifications.requestPermission(),n.a.Notifications.addEventListener("click",(function(t){var e=t.notification.payload.additionalData,a=e.template,i=e.slug,s=go,n="";["noticias","comunicados","ofertas"].includes(a)&&i&&(n="/".concat(a,"/").concat(i)),"liquidaciones-de-sueldo"===a&&(n="/liquidaciones-de-sueldo/liquidacion?type=1"),n&&s.push({path:n})})),n.a.Notifications.addEventListener("received",(function(t){console.log(t),V.dispatch("notifications",{})})),this.$store.state.token&&wo.setToken(this.$store.state.token)},render:function(t){return t(Wo)}}).$mount("#app")},"6bfb":function(t,e,a){t.exports=a.p+"img/covid19-gracias.819fafd4.png"},"6d59":function(t,e,a){t.exports=a.p+"img/integra-beneficios.4fcf2917.svg"},"79b3":function(t,e,a){"use strict";a("3078")},"7e7d":function(t,e,a){},"894b":function(t,e,a){t.exports=a.p+"img/integrito.d4f23789.svg"},"9d7f":function(t,e,a){"use strict";a("e691")},"9f01":function(t,e,a){t.exports=a.p+"img/integra-logo-gris.a42a55f3.svg"},bb1b:function(t,e,a){},d05a:function(t,e,a){"use strict";a("2f59")},da81:function(t,e,a){"use strict";a("20c8")},e691:function(t,e,a){},f69c:function(t,e,a){t.exports=a.p+"img/integra-isotipo.87316763.svg"}});
//# sourceMappingURL=app.3a725de0.js.map